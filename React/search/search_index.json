{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Learn React","text":"<p>\u5927\u5bb6\u597d\uff0c\u8fd9\u91cc\u662f\u5b8c\u5168\u627e\u4e0d\u5230\u5b9e\u4e60\u7684 SeaBee.</p> <p>\u6700\u8fd1\u5728\u5c1d\u8bd5\u901f\u901aReact\uff0c\u8fd9\u8fb9\u653e\u4e00\u4e2a\u7b14\u8bb0\u8bc1\u660e\u81ea\u5df1\u52aa\u529b\u8fc7\u3002</p> <p>\u6709\u5f88\u591a abandon \u7684\u75d5\u8ff9\uff0c\u8bf7\u591a\u591a\u5305\u6db5\uff01\uff08\u9ebb\u5229\u7684\u571f\u4e0b\u5ea7\uff09</p> <p>\u611f\u60f3\u662f\u6574\u4f53\u975e\u5e38\u7684 Java(?)\uff0c\u4ee5\u53ca Vue \u7684\u7ec4\u4ef6\u5e93\u771f\u53cb\u597d\u554a</p> <p>\u65af\u5bc6\u9a6c\u8d5b\uff0c\u82ef\u4eba\u8fd8\u662f\u592a\u83dc\u4e86</p>"},{"location":"#1","title":"1 \u76ee\u5f55","text":"<p>\u6839\u636e\u81ea\u5df1\u7684\u7c97\u6d45\u7406\u89e3\u5bf9\u7b14\u8bb0\u8fdb\u884c\u4e86\u9b54\u5e7b\u5f52\u7c7b\uff1a</p> <ol> <li> <p>\u6162\u901f\u4e0a\u624b\uff1a</p> <p>\u4e3b\u8981\u662f Hello World \u548c \u4e00\u4e9b\u57fa\u7840\u77e5\u8bc6</p> </li> <li> <p>\u9762\u5411\u7ec4\u4ef6\uff1a</p> <p>\u4ecb\u7ecd\u4e86 \u51fd\u6570\u5f0f\u7ec4\u4ef6 &amp; \u7c7b\u5f0f\u7ec4\u4ef6\uff0c\u4ee5\u53ca \u751f\u547d\u5468\u671f \u548c \u4e8b\u4ef6\u7ed1\u5b9a</p> </li> <li> <p>\u7ec4\u4ef6\u901a\u4fe1\uff1a</p> <p>\u5355\u72ec\u628a\u901a\u4fe1\u62ce\u51fa\u6765\u4e86\uff0c\u5305\u62ec\u4e86 PubSub \u548c Redux \u7684\u7b80\u5355\u5e94\u7528</p> </li> <li> <p>\u7f51\u7edc\u8bf7\u6c42\uff1a</p> <p>Ajax \u548c Fetch \u7684\u7b80\u5355\u5e94\u7528</p> </li> <li> <p>\u8def\u7531\uff1a</p> <p>React-Router-Dom V5 &amp; V6\uff0c\u6ca1\u6709\u597d\u597d\u5bf9 \u6807\u7b7e/\u7f16\u7a0b\u5f0f \u597d\u597d\u5206\u7c7b</p> </li> <li> <p>UI\u7ec4\u4ef6\u5e93\uff1a</p> <p>\u56e0\u4e3a AntD \u6539\u7248\u4e86\uff0c\u4e00\u6574\u4e2a abandon \u7684\u5927\u52a8\u4f5c</p> </li> </ol>"},{"location":"#2-demos","title":"2 Demos","text":"<p>\u8ddf\u7740\u89c6\u9891\u505a\u7684\u4e24\u4e2a Demo \u7684\u6e90\u7801\u4e5f\u653e\u5728\u4ed3\u5e93\u91cc\u4e86\uff1a</p> <ul> <li> <p>TodoList</p> <p>\u7b80\u5355\u7684\u5b9e\u73b0\u4e86\u6dfb\u52a0\u3001\u5220\u9664\u548c\u52fe\u9009</p> </li> <li> <p>GitHub Users</p> <p>\u6d89\u53ca\u7f51\u7edc\u901a\u4fe1\uff0c\u6ca1\u4e86</p> </li> </ul>"},{"location":"chaps/Components/","title":"2 \u9762\u5411\u7ec4\u4ef6","text":"<ul> <li>\u6a21\u5757\uff1a\u5411\u5916\u63d0\u4f9b\u7279\u5b9a\u529f\u80fd\u7684 JS \u7a0b\u5e8f\uff0c\u4e00\u822c\u662f\u5355\u4e2a\u6587\u4ef6</li> <li>\u7ec4\u4ef6\uff1a\u5b9e\u73b0\u5c40\u90e8\u529f\u80fd\u7684\u4ee3\u7801\u548c\u8d44\u6e90\u96c6\u5408\uff0c\u66f4\u5177\u5b9a\u4e49\u65b9\u5f0f\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b<ul> <li>\u51fd\u6570\u5f0f\u7ec4\u4ef6\uff08\u7b80\u5355\u7ec4\u4ef6\uff09</li> <li>\u7c7b\u5f0f\u7ec4\u4ef6\uff08\u590d\u6742\u7ec4\u4ef6\uff09</li> </ul> </li> </ul>"},{"location":"chaps/Components/#1","title":"1 \u51fd\u6570\u5f0f\u7ec4\u4ef6","text":"<pre><code>function Demo() { // \u51fd\u6570\u540d\u5c31\u662f tag \u540d\uff0c\u9996\u5b57\u6bcd\u5927\u5199\n    // babel \u5f00\u542f\u4e86\u4e25\u683c\u6a21\u5f0f\uff0cthis\u6307\u5411undefined\n    return &lt;h2&gt;\u6211\u662f\u7ec4\u4ef6demo\u634f&lt;/h2&gt;\n}\n// \u8bb0\u5f97\u9996\u5b57\u6bcd\u5927\u5199 + \u81ea\u7ed3\u675f\nReactDOM.render(&lt;Demo/&gt;, document.getElementById('app')) \n</code></pre> <p>\u7528\u4e0d\u4e86 <code>state &amp; refs</code> \uff0c\u4f46\u662f\u53ef\u4ee5\u7528 <code>props</code> \u634f\uff01</p> <pre><code>function Wow(props) {\n    const {name,age} = props // \u6ca1\u6709 this \u634f\n    return (\n        &lt;h2&gt;\u6211\u53eb{name}&lt;/h2&gt;\n        &lt;h3&gt;\u4eca\u5e74{age}\u5c81&lt;/h3&gt;\n    )\n}\n// \u9650\u5236\u53ea\u80fd\u5199\u5916\u9762\nWow.propTypes = {}\nWow.defaultProps = {}\n// \u6e32\u67d3\nReactDOM.render(&lt;WOw name=\"Tt\" age={13}/&gt;, document.getElementById('app'))\n</code></pre>"},{"location":"chaps/Components/#2","title":"2 \u7c7b\u5f0f\u7ec4\u4ef6","text":""},{"location":"chaps/Components/#_1","title":"\u57fa\u672c\u77e5\u8bc6","text":"<pre><code>// \u521b\u5efa\u4e00\u4e2a Person \u7c7b\nclass Person {\n    // \u6784\u9020\u51fd\u6570\n    constructor(name,age) {\n        // this \u6307\u5411\u5f53\u524d\u5b9e\u4f8b\u5bf9\u8c61\n        this.name = name\n        this.age = age\n    }\n    // \u65b9\u6cd5 - \u5728\u7c7b\u7684\u300c\u539f\u578b\u5bf9\u8c61\u300d\u4e0a\n    show() { // \u901a\u8fc7\u5b9e\u4f8b\u8c03\u7528\u65f6\uff0cthis \u6307\u5411\u5b9e\u4f8b\u672c\u8eab\n        console.log(`\u6211\u53eb${this.name}, \u4eca\u5e74${this.age}\u5c81\u4e86`)\n    }\n}\n// \u521b\u5efa\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61(\u4f7f\u7528new\u5173\u952e\u5b57)\nconst p1 = new Person()\n\n// Student \u7ee7\u627f Person, \u7ee7\u627f\u6240\u6709\u65b9\u6cd5\uff08\u5305\u62ec\u6784\u9020\u51fd\u6570\uff09\nclass Student extends Person {\n    constructor(name, age, grade) {\n        super(name, age) // \u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570 - \u5fc5\u987b\u653e\u7b2c\u4e00\u884c\n        this.grade = grade\n    }\n    // \u91cd\u5199\u7236\u7c7b\u65b9\u6cd5\uff08\u56e0\u4e3a\u627e\u672c\u7c7b\u539f\u578b\u5c31\u6709\u4e86\uff0c\u6240\u4ee5\u8c03\u7528\u7684\u662f\u81ea\u5df1\u7684\uff09\n    speak() {\n        console.log(`\u6211\u53eb${this.name}, \u4eca\u5e74${this.age}\u5c81\u4e86, \u73b0\u5728\u8bfb${this.grade}`)\n    }\n}\n// \u8c03\u7528 speak \u8fc7\u7a0b\uff1a\u672c\u8eab\u539f\u578b\uff08\u65e0\uff09-&gt; \u7236\u7c7b\u539f\u578b\uff08\u6709\uff09\n</code></pre>"},{"location":"chaps/Components/#21","title":"2.1 \u521b\u5efa\u7ec4\u4ef6","text":"<pre><code>// \u521b\u5efa\u7c7b\u5f0f\u7ec4\u4ef6 - \u7c7b\u540d\u5c31\u662f\u7ec4\u4ef6\u540d\nclass Demo extends React.Component {\n    render() { // \u53ef\u4ee5\u6ca1\u6709\u6784\u9020\u51fd\u6570\uff0c\u4f46\u4e00\u5b9a\u8981\u6709 render\n        return &lt;h2&gt;This is demo&lt;/h2&gt; // \u8fd4\u56de\u6e32\u67d3\u7684\u7ed3\u6784\n    }\n}\n// \u6e32\u67d3\u7ec4\u4ef6\u5b9e\u4f8b\nReactDOM.render(&lt;Demo/&gt;, document.getElementById('app'))\n/*\n1. React\u89e3\u6790\u6807\u7b7e\uff0c\u627e\u5230 Demo \u7ec4\u4ef6\n2. \u53d1\u73b0\u8be5\u7ec4\u4ef6\u662f\u4ee5\u7c7b\u5f62\u5f0f\u5b9a\u4e49\u7684\uff0cnew \u51fa\u8be5\u7c7b\u5b9e\u4f8b\uff0c\u5e76\u8c03\u7528\u539f\u578b\u4e0a\u7684 render \u65b9\u6cd5\n3. \u5c06 render \u65b9\u6cd5\u8fd4\u56de\u7684\u865a\u62df DOM \u6e32\u67d3\u5230\u9875\u9762\u4e0a\n*/\n</code></pre>"},{"location":"chaps/Components/#22-state","title":"2.2 State &amp; \u4e8b\u4ef6\u7ed1\u5b9a","text":"<p>\u5176\u5b9e\u5728 tag \u91cc\u5199 id\uff0c\u7136\u540e\u548c\u4ee5\u5f80\u90a3\u6837 addEventListener \u4e5f\u884c</p> <pre><code>class Weather extends React.Component {\n    constuctor(props) {\n        super(props) // \u65e7\u7248\u672c\u8981\u4f20 props \u4f5c\u4e3a\u53c2\u6570\uff0c\u73b0\u5728\u7a7a\u7740\u5c31\u884c\n        this.state = { // \u7c7b\u4f3c\u4e8e Vue \u91cc\u7684 data\uff0c\u8981\u6c42\u5199\u6210\u5bf9\u8c61\n            isHot: true\n        }\n        // \u89e3\u51b3 undefined \u95ee\u9898:\n        // \u4ece\u539f\u578b\u4e0a\u6293\u51fa\u540e\u8005\uff0c\u7136\u540e\u628a this \u6307\u9488\u6307\u5411\u5f53\u524d\u5b9e\u4f8b\n        // \u6700\u540e\u6302\u5728\u524d\u8005\u58f0\u660e\u7684\u5c5e\u6027\u4e0a\n        this.changeWeather = this.changeWeather.bind(this)\n    }\n    render() {\n        // \u6ce8\u610f\u5173\u952e\u8bcd\u662f onClick\uff08\u672c\u7c7b\u51fd\u6570\u8981\u52a0 this\uff0c\u5168\u5c40\u51fd\u6570\u76f4\u63a5\u5199\u540d\u5b57\uff09\n        return &lt;h1 onClick={this.changeWeather}&gt;\u4eca\u5929\u5929\u6c14\u5f88{this.state.isHot?'\u708e\u70ed':'\u51c9\u723d'}&lt;/h1&gt;\n    }\n    changeWeather() { // \u76f4\u63a5\u8c03\u7528\uff0c\u9ed8\u8ba4\u5f00\u542fstrict\uff0cthis\u6307\u5411 undefined\n        // \u76f4\u63a5\u66f4\u6539\u4e0d\u4f1a\u89e6\u53d1\u76d1\u89c6\uff0c\u5fc5\u987b\u8c03\u7528 setState\n        // \u8fd9\u91cc\u76f4\u63a5\u53d6\u53cd\u597d\u50cf\u4f1a\u62a5\u9519\uff0c\u7528\u4e2a\u4e2d\u7ee7\u53d8\u91cf\u8fc7\u5ea6\u4e00\u4e0b\u5c31\u884c\n        var isHot = this.state.isHot\n        this.setState({isHot:!isHot}) // \u53ea update \u5305\u542b\u7684\u5c5e\u6027\uff08\u5408\u5e76\uff09\n    }\n}\n\nReactDOM.render(&lt;Weather/&gt;, document.getElementById('app'))\n// \u6784\u9020\u51fd\u6570\u53ea\u8c03\u7528\u4e00\u6b21\uff0c\u6bcf\u6b21\u4fee\u6539\u72b6\u6001\u90fd\u518d\u8c03\u7528\u4e00\u6b21 render\n\nfunction change() {\n    console.log(this) // \u5168\u5c40\u51fd\u6570\u7684 this \u6307\u5411 undefined\n}\n</code></pre>"},{"location":"chaps/Components/#_2","title":"\u7b80\u5199\u65b9\u5f0f","text":"<pre><code>class Weather extends React.Component {\n    constructor(props) {\n        super()\n    }\n    // \u56fa\u5b9a\u5c5e\u6027\u76f4\u63a5\u8d4b\u503c\n    type = \"central\"\n    // state \u4e5f\u4e0d\u7528\u5199\u5728\u6784\u9020\u51fd\u6570\u91cc\n    state = {\n        isHot: true\n    }\n    // \u65b9\u6cd5\u4e0d\u5728\u539f\u578b\u4e0a\uff0c\u5728\u81ea\u8eab\n    changeWeather = () =&gt; { // \u7bad\u5934\u51fd\u6570\u4f1a\u4f7f\u7528\u5916\u90e8\u51fd\u6570\u7684this\uff08\u5c5e\u4e8e\u672c\u5b9e\u4f8b\uff09\n        this.setState({isHot:!this.state.isHot})\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#23-props-read-only","title":"2.3 Props - Read Only","text":"<p>\u4fee\u6539 props \u5219\u6574\u4e2a\u9875\u9762\u5bc4\u6389</p> <pre><code>// \u6d45\u6d45 intro - \u5728\u6e32\u67d3\u7684\u65f6\u5019\u52a8\u4e00\u70b9\u624b\u811a\nReactDOM.render(\n    &lt;Demo name=\"hahah\" age={12}/&gt;, // \u53cc\u5f15\u53f7\u9ed8\u8ba4\u4e3a str\uff0c\u5e74\u9f84\u662f Num\uff0c\u6240\u4ee5\u52a0\u82b1\u62ec\u53f7\n    document.getElementById('app')\n)\n/* \u6b64\u5904\u7684 name:\"hahah\" \u5c06\u4f5c\u4e3a\u952e\u503c\u5bf9\u585e\u5230 props \u4e2d\uff08\u548c Vue \u4e00\u6837\u634f\uff09\n   \u540c\u6837\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7 {this.props.name} \u5728\u7ed3\u6784\u4e2d\u8fdb\u884c\u8bbf\u95ee */\n\nclass Demo extends React.Component {\n    render() \n        // \u4f7f\u7528 const \u63a5\u624b props \u4e2d\u7684\u53d8\u91cf\uff08\u7c7b\u4f3c\u4e8e Vue \u4e2d\u7528 computed \u53bb\u63a5\uff09\n        const {name} = this.props\n        return &lt;h2&gt;my name is {name}&lt;/h2&gt;\n        // \u4e0b\u9762\u540c\u7406\n        return &lt;h2&gt;my name is {this.props.name}&lt;/h2&gt;\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#_3","title":"\u6279\u91cf\u5bfc\u5165\u6570\u636e","text":"<p>\u4e0b\u9762\u5c55\u793aES6\u7684\u8bed\u6cd5\u7cd6\uff08\u6ce8\u610f\u5916\u90e8\u6570\u636e\u7684key\u5fc5\u987b\u548cconst\u63a5\u7684\u4e00\u81f4\uff09</p> <pre><code>const info = {\n    name: \"TOM\",\n    age: 12,\n    grade: \"Three\"\n}\nReactDOM.render(&lt;Person {...info}/&gt;, document.getElementById('app'))\n</code></pre> <p>\u987a\u4fbf\u590d\u4e60\u4e00\u4e0b\u5c55\u5f00\u8fd0\u7b97\u7b26 <code>...</code> </p> <pre><code>// \u62fc\u63a5\u4e00\u4e0b\u6570\u7ec4\u634f\nlet arr1 = [1,3,5,7,9]\nlet arr2 = [2,4,6,8,10]\nlet arr3 = [...arr1, ...arr2]\n\n// \u51fd\u6570\u7a7f\u53c2\uff08\u8ba1\u7b97n\u4e2a\u6570\u7684\u548c\uff09\nfunction sum(...nums) {\n    // \u6b64\u5904\u7684 nums \u662f\u4e00\u4e2a\u6570\u7ec4\uff08\u4f7f\u7528\u6d41\u5f0f\u8ba1\u7b97\uff09\n    return nums.reduce((pre,cur) =&gt; { return pre + cur})\n}\nconsole.log(\"\u8ba1\u7b97\u7ed3\u679c\u662f\", sum(1,2,3,4,5)) // \u76f4\u63a5\u7a7f\u53c2\u6570\uff08\u8fdb\u53bb\u4f1a\u88ab\u89e3\u6790\u6210\u6570\u7ec4\uff09\n\n// \u4e0d\u80fd\u76f4\u63a5\u5c55\u5f00 Obj\nlet p1 = {name:'Tom', age:12}\nlet p2 = p1 // \u5b9e\u9645\u4e0a\u662f\u5f15\u7528\uff08\u6307\u5411\u4e86\u540c\u4e00\u4e2a\u5730\u5740\u7a7a\u95f4\uff09\n// AND...\nlet p2 = ...p1 // \u8fd9\u662f\u4e0d\u884c\u7684\u634f\nlet p2 = {...p1} // \u8fd9\u6837\u662f\u53ef\u4ee5\u7684\uff08\u800c\u4e14\u662f\u72ec\u7acb\u7684\u62f7\u8d1d\uff09\n// \u52a0\u4e86\u82b1\u62ec\u53f7\u7684\u8bed\u4e49\u662f\u300c\u62f7\u8d1d\u300d\u4e00\u4e2a\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u300c\u5c55\u5f00\u300d\u4e00\u4e2a\u5bf9\u8c61\n\n// \u5728 JSX \u91cc {} \u8868\u793a\u5185\u90e8\u662f JS\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u5176\u5b9e\u7b49\u4ef7\u4e8e\u88f8\u5954\u7684 ...obj\n// \u8fd9\u5728\u539f\u751f\u4e2d\u663e\u7136\u662f\u4e0d\u88ab\u5141\u8bb8\u7684 =&gt; \u4f46\u6211\u4eec\u7528\u7684\u662f JSX \u634f\uff01\uff08\u5e76\u6ca1\u6709\u89e6\u53d1\u590d\u5236\u5bf9\u8c61\uff09\n// \u4f46\u53ea\u80fd\u7528\u4e8e\u300c\u6807\u7b7e\u5c5e\u6027\u4f20\u9012\u300d\uff0c\u4e0d\u80fd\u518d\u5176\u4ed6\u5730\u65b9\u80e1\u4e71\u6cf0\u52d2Obj\n\n// \u5408\u5e76\u5bf9\u8c61\uff08\u540e\u9762\u8986\u76d6\u524d\u9762\uff09\nlet p3 = {...p1, name:\"Jack\"}\n// \u6b64\u65f6 p3.name = \"Jack\" (Tom\u88ab\u76d6\u6389\u4e86)\n</code></pre>"},{"location":"chaps/Components/#_4","title":"\u4e00\u4e9b\u9650\u5236","text":"<p>\u548c Vue \u5f88\u50cf\u634f\uff0c\u53ef\u4ee5\u89c4\u5b9a prop \u7684\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c</p> <pre><code>// \u5355\u9875\u9762\u6587\u4ef6\u4e2d\u9700\u8981\u989d\u5916\u5f15\u5165\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.6.0/prop-types.js\"&gt;&lt;/script&gt;\n// \u5de5\u7a0b\u6587\u4ef6\u4e2d\u4f7f\u7528 npm install --save prop-types \u5b89\u88c5\n// \u968f\u540e\u8fdb\u884c\u5f15\u5165 import PropTypes from 'prop-types';\n</code></pre> <pre><code>class Person extends React.Conponent {}\n// \u5728\u7c7b\u5916\u5b9a\u4e49\uff08\u6ce8\u610f\u5927\u5c0f\u5199\uff09\nPerson.propsTypes = {\n    name: PropTypes.string,\n    // \u5f3a\u5236\u5fc5\u586b name: PropTypes.string.isRequired\n    // \u6b64\u65f6\u4e0d\u586b warning + \u5bf9\u5e94\u5b57\u6bb5 undefined\n    age: ProtoTypes.number,\n    speak: ProtoTypes.func\n}\n// \u9ed8\u8ba4\u503c\uff08\u4e3a\u5565 type \u548c default \u8981\u5206\u5f00\u554a\u6de6\uff09\nPerson.defaultProps = {\n    sex: \"\u672a\u77e5\",\n    age: -1\n}\n// \u9884\u671f\u4e0e\u5b9e\u9645\u4e0d\u7b26\u65f6\uff1a\u9875\u9762\u6b63\u5e38\u663e\u793a\uff0c\u4f46\u662f\u4f1a\u6709\u8b66\u544a\nfunction speak() {console.log(\"\u8bf4\u8bdd\u54e9\")}\n// \u53ef\u4ee5\u901a\u8fc7 speak={speak} \u4f20\u9012\n</code></pre>"},{"location":"chaps/Components/#props","title":"props \u7684\u7b80\u5199","text":"<p>\u628a type &amp; default \u5199\u5728\u7c7b\u5916\u9762\u591a\u4e48\u75f4\u5446\u554a</p> <p>\u4e00\u4e9b\u5c0f\u5c0f\u7684\u77e5\u8bc6\u590d\u4e60\uff1a</p> <pre><code>class Car {\n    demo = 100 // demo\u5c5e\u6027\u52a0\u8f7d\u300c\u5b9e\u4f8b\u300d\u4e0a\n    static demo = 300 // \u5728\u300c\u7c7b\u300d\u4e0a =&gt; Car.demo = 300\n}\nCar.demo = 200 // demo\u52a0\u8f7d\u4e86\u300c\u7c7b\u300d\u4e0a\n\nconsole.log(Car.demo) =&gt; 200\nlet car = new Car()\nconsole.log(car.demo) =&gt; 100\n</code></pre> <p>\u7b80\u5199\u4e00\u4e0b <code>props</code></p> <pre><code>class Person extends React.Component {\n    // \u5fc5\u987b\u52a0 static -&gt; \u52a0\u8f7d\u300c\u7c7b\u300d\u4e0a\n    static propTypes = {\n        name: PropTypes.string\n    }\n    static defaultProps = {\n        sex: \"Unknown\"\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#ft","title":"ft. \u6784\u9020\u5668","text":"<pre><code>class Person extends React.Component {\n    // \u4e0d\u63a5\u4e5f\u4e0d\u4f20\uff0c\u5728\u300c\u5b9e\u4f8b\u300d\u4e2d\u5c31\u4e0d\u80fd\u901a\u8fc7 this.props \u83b7\u53d6 props\n    // \uff08\u4f46\u662f\u4e0d\u5199\u6784\u9020\u51fd\u6570\u5c31\u6ca1\u6709\u95ee\u9898\uff09\n    constructor(props) {\n        super(props)\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#24-refs","title":"2.4 Refs","text":"<p>\u53ef\u4ee5\u8ba4\u4e3a\u7c7b\u4f3c\u4e8e\u539f\u751f\u7684 ID \u9009\u62e9\u5668</p>"},{"location":"chaps/Components/#_5","title":"\u5b57\u7b26\u4e32\u5f0f\uff08\u4e0d\u63a8\u8350\uff09","text":"<pre><code>class Demo extends React.Component {\n    render() {\n        return (\n            &lt;div&gt;\n                // \u4f7f\u7528 ref \u8868\u793a\u5f53\u524d\u6807\u7b7e\n                &lt;input ref=\"in1\" type=\"text\" placeholder=\"\u70b9\u51fb\u6309\u94ae\u663e\u793a\u6570\u636e\"/&gt;\n                &lt;button onClick={this.showData}&gt;\u70b9\u6211\u63d0\u793a\u5de6\u4fa7\u6570\u636e&lt;/button&gt;\n            &lt;/div&gt;)\n    }\n    showData = () =&gt; {\n        // \u4f7f\u7528 this.refs.name \u62ff\u5230\u771f\u5b9eDOM\n        alert(this.refs.in1.value)\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#_6","title":"\u56de\u8c03\u5f0f","text":"<p>\u56de\u8c03\u51fd\u6570\u5171\u8c03\u7528\u300c\u4e24\u6b21\u300d\uff0c\u7b2c\u4e00\u6b21\u4f20\u5165NULL\uff0c\u7b2c\u4e8c\u6b21\u4f20\u5165\u771f\u5b9eDOM \u56e0\u4e3a\u6bcf\u6b21UPDATE\u7684\u65f6\u5019\u8981\u300c\u6e05\u7a7a\u539f\u6765\u7684ref\u300d\uff0c\u518d\u4f20\u9001\u771f\u6b63\u7684\u8282\u70b9</p> <pre><code>class Demo extends React.Component {\n    render() {\n        return (\n            &lt;div&gt;\n                // \u56de\u8c03\u63a5\u53d7\u7684\u53c2\u6570\u662f\u771f\u5b9eDOM\uff08\u51fd\u6570\u9898\u628a\u5b9e\u4f8b\u6302\u5728\u81ea\u5df1\u7684\u5c5e\u6027 input1 \u4e0a\uff09\n                &lt;input ref={curnode=&gt;this.input1 = curnode} type=\"text\" placeholder=\"\u70b9\u51fb\u6309\u94ae\u663e\u793a\u6570\u636e\"/&gt;\n                // \u4e0d\u4f7f\u7528\u7bad\u5934\u51fd\u6570 -&gt; \u53ef\u4ee5\u786e\u4fdd\u53ea\u8c03\u4e00\u6b21\uff08\u6ca1\u6709NULL\u90a3\u6b21\uff09\n                &lt;input ref={this.save} type=\"text\"/&gt;\n                &lt;button onClick={this.showData}&gt;\u70b9\u6211\u63d0\u793a\u5de6\u4fa7\u6570\u636e&lt;/button&gt;\n            &lt;/div&gt;)\n    }\n    save = (cur) =&gt; {\n        this.input2 = cur\n    }\n    showData = () =&gt; {\n        alert(this.input1.value)\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#createref","title":"createRef","text":"<p>\u7f3a\u70b9\uff1a\u5f97\u624b\u52a8\u521b\u5efa\u5f88\u591a\u4e2a\u5bb9\u5668</p> <pre><code>class Demo extends React.Component {\n    // React.createRef \u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5bb9\u5668\uff0c\u7528\u4e8e\u5b58\u50a8 ref \u6807\u8bc6\u7684\u8282\u70b9\n    myRef = React.createRef() // \u4e13\u4eba\u4e13\u7528\uff08\u53ea\u80fd\u7ed9\u4e00\u4e2a\u4eba\u7528\uff0c\u540e\u9762\u4f1a\u8986\u76d6\uff09- \u53ef\u4ee5\u53d6\u5176\u4ed6\u540d\u5b57\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;input ref={this.myRef} type=\"text\" placeholder=\"\u70b9\u51fb\u6309\u94ae\u663e\u793a\u6570\u636e\"/&gt;\n                &lt;button onClick={this.showData}&gt;\u70b9\u6211\u63d0\u793a\u5de6\u4fa7\u6570\u636e&lt;/button&gt;\n            &lt;/div&gt;)\n    }\n    showData = () =&gt; {\n        alert(this.myRef.current.value)\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#3","title":"3 \u4e8b\u4ef6\u5904\u7406","text":"<ol> <li>React \u4e2d\u901a\u8fc7 <code>onXxx</code> \u5c5e\u6027\u6307\u5b9a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff08\u6ce8\u610f\u5927\u5c0f\u5199\uff09<ul> <li>React \u4e2d\u4f7f\u7528\u7684\u662f\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff08\u4e0d\u662f\u539f\u751fDOM\u4e8b\u4ef6\uff09</li> <li>\u901a\u8fc7\u4e8b\u4ef6\u59d4\u6258\u65b9\u5f0f\u5904\u7406\uff08\u59d4\u6258\u7ed9\u300c\u7ec4\u4ef6\u6700\u5916\u5c42\u300d\u7684\u5143\u7d20\uff09</li> </ul> </li> <li>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>event.target</code> \u83b7\u5f97\u300c\u89e6\u53d1\u300d\u4e8b\u4ef6\u7684\u5bf9\u8c61</li> </ol> <pre><code>class Demo extends React.Component {\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;input onBlur={this.showData} type=\"text\" placeholder=\"\u70b9\u51fb\u6309\u94ae\u663e\u793a\u6570\u636e\"/&gt;\n                &lt;button&gt;\u70b9\u6211\u63d0\u793a\u5de6\u4fa7\u6570\u636e&lt;/button&gt;\n            &lt;/div&gt;)\n    }\n    showData = (e) =&gt; {\n        // \u4f7f\u7528 event.target \u83b7\u53d6\u89e6\u53d1\u4e8b\u4ef6\u7684\u5bf9\u8c61\n        alert(e.target.value)\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#4","title":"4 \u8868\u5355\u6570\u636e","text":"<ul> <li>\u975e\u53d7\u63a7\u7ec4\u4ef6\uff1a\u53ea\u6709\u5728\u201c\u63d0\u4ea4\u8868\u5355\u201d\u65f6\u83b7\u53d6\u5143\u7d20\u7684\u6700\u7ec8\u6570\u636e</li> <li>\u53d7\u63a7\u7ec4\u4ef6\uff1a\u7c7b\u4f3c\u4e8e v-model\uff0c\u968f\u7528\u6237\u8f93\u5165\u5b9e\u65f6\u66f4\u65b0 State\uff0c\u4f7f\u7528\u65f6\u76f4\u63a5\u4ece State \u4e2d\u83b7\u53d6</li> </ul>"},{"location":"chaps/Components/#41","title":"4.1 \u975e\u53d7\u63a7\u7ec4\u4ef6","text":"<ul> <li>\u6240\u6709\u300c\u8f93\u5165\u7c7b\u300dDOM \u300c\u73b0\u7528\u73b0\u53d6\u300d</li> <li>\u9700\u8981\u7528\u5f88\u591a <code>ref</code></li> </ul> <pre><code>class Login extends React.Component {\n    render() {\n        return (\n            &lt;form onSubmit={this.handle}&gt;\n                \u7528\u6237\u540d\uff1a&lt;input ref={cur=&gt;this.uname=cur} \n                            type=\"text\" name=\"username\"/&gt;\n                \u5bc6\u7801\uff1a &lt;input ref={cur=&gt;this.pwd=cur} \n                            type=\"password\" name=\"password\"/&gt;\n                // \u70b9\u51fb\u540e\u643a\u5e26 query \u53c2\u6570\n                &lt;button&gt;\u767b\u5f55&lt;/button&gt;\n            &lt;/form&gt;\n        )\n    }\n    handle = (e) =&gt; {\n        // \u963b\u6b62\u9ed8\u8ba4\u4e8b\u4ef6\uff08\u8868\u5355\u63d0\u4ea4\u8df3\u8f6c\uff09\n        e.preventDefault()\n        // \u83b7\u53d6\u6570\u636e\n        const {uname, pwd} = this\n        alert(uname.value + \"-\" + pwd.value)\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#42","title":"4.2 \u53d7\u63a7\u7ec4\u4ef6","text":"<pre><code>class Login extends React.Component {\n    state = {\n        username: \"\",\n        password: \"\"\n    }\n    render() {\n        return (\n            &lt;form&gt;\n                \u7528\u6237\u540d\uff1a&lt;input onChange={this.getName} ref={cur=&gt;this.uname=cur} \n                            type=\"text\" name=\"username\"/&gt;\n                \u5bc6\u7801\uff1a &lt;input ref={cur=&gt;this.pwd=cur} \n                            type=\"password\" name=\"password\"/&gt;\n                // \u70b9\u51fb\u540e\u643a\u5e26 query \u53c2\u6570\n                &lt;button&gt;\u767b\u5f55&lt;/button&gt;\n            &lt;/form&gt;\n        )\n    }\n    // \u7c7b\u4f3c\u4e8e v-model\n    getName = (e) =&gt; {\n        this.setState({username: e.target.value})\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#5","title":"5 \u9ad8\u9636\u51fd\u6570 &amp; \u7eaf\u51fd\u6570","text":""},{"location":"chaps/Components/#_7","title":"\u9ad8\u9636\u51fd\u6570","text":"<ul> <li>\u63a5\u53d7\u53c2\u6570\u4e3a\u300c\u51fd\u6570\u300d/ \u8fd4\u56de\u503c\u4e3a\u300c\u51fd\u6570\u300d\u7684\u51fd\u6570\u79f0\u4e3a\u9ad8\u9636\u51fd\u6570</li> <li>\u51fd\u6570\u67ef\u91cc\u5316\uff1a\u901a\u8fc7\u8c03\u7528\u51fd\u6570\u540e\u8fd4\u56de\u51fd\u6570\uff0c\u5b9e\u73b0\u591a\u6b21\u63a5\u6536\u53c2\u6570\u540e\u7edf\u4e00\u5904\u7406</li> </ul>"},{"location":"chaps/Components/#_8","title":"\u67ef\u91cc\u5316","text":"<pre><code>\u76f8\u5f53\u4e8e\u5c06 saveForm \u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u56de\u8c03\uff08\u6240\u4ee5\u8fd4\u56de\u503c\u4e5f\u5e94\u8be5\u662f\u51fd\u6570\uff09\n&lt;input onChange={this.saveForm('username')}/&gt;\n&lt;input onChange={this.saveForm('password')}/&gt;\n</code></pre> <pre><code>// \u6279\u5904\u7406\nsaveForm = (data_item) =&gt; {\n    return (e) =&gt; {\n        // [] \u8868\u793a\u4f7f\u7528\u4e0b\u6807\u8bbf\u95ee\u5c5e\u6027\n        this.setState({[data_item]: e.target.value})\n    }\n}\n</code></pre>"},{"location":"chaps/Components/#_9","title":"\u5c1d\u8bd5\u4e0d\u7528\u67ef\u91cc\u5316","text":"<pre><code>// \u5728\u5185\u8054\u51fd\u6570\u4e2d\u8c03\u7528 saveForm\uff0c\u5e76\u4f20\u5165 data_item &amp; event \u4f5c\u4e3a\u53c2\u6570\n&lt;input onChange={(e)=&gt;{this.saveForm('username', e)}}/&gt;\n</code></pre> <pre><code>saveForm = (data_item, e) {\n    this.setState({[data_item]: e.target.value})\n}\n</code></pre>"},{"location":"chaps/Components/#_10","title":"\u7eaf\u51fd\u6570","text":"<p>\u540c\u6837\u7684\u8f93\u5165\u5fc5\u5b9a\u4ea7\u751f\u540c\u6837\u7684\u8f93\u51fa</p> <ul> <li>\u4e0d\u5f97\u6539\u5199\u53c2\u6570\u6570\u636e</li> <li>\u4e0d\u5f97\u4ea7\u751f\u526f\u4f5c\u7528\uff08\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42 / \u8f93\u5165\u8f93\u51fa\uff09</li> <li>\u4e0d\u80fd\u8c03\u7528 Date.now / Math.random \u7b49\u65b9\u6cd5</li> </ul>"},{"location":"chaps/Components/#6","title":"6 \u751f\u547d\u5468\u671f","text":""},{"location":"chaps/Components/#61","title":"6.1 \u65e7\u7248\u672c","text":""},{"location":"chaps/Components/#_11","title":"\u6302\u8f7d\u6d41\u7a0b","text":"<ol> <li><code>constructor</code></li> <li><code>componentWillMount</code></li> <li><code>render</code></li> </ol>"},{"location":"chaps/Components/#4-mount","title":"4. mount","text":"<pre><code>componentDidMount() {\n    // \u6302\u8f7d\u53ea\u8c03\u7528\u4e00\u6b21\uff08\u867d\u7136\u4f1a update \u591a\u6b21\uff09\n    this.timer = setInterval(() =&gt; {\n        let {opacity} = this.state\n        opacity = -= 0.1\n        if(opacity &lt;= 0) opacity = 1\n        this.setState({opacity})\n    }, 200)\n}\n</code></pre>"},{"location":"chaps/Components/#5-unmount","title":"5. unmount","text":"<pre><code>ReactDOM.unmountComponentAtNode('app') // \u624b\u52a8\u5378\u8f7d\u7ec4\u4ef6\n\ncomponentWillUnmount() { // \u5c06\u8981\u5378\u8f7d\u65f6\u8c03\u7528\n    clearInterval(this.timer)\n}\n</code></pre>"},{"location":"chaps/Components/#_12","title":"\u66f4\u65b0\u6d41\u7a0b","text":"<ol> <li>\u7236\u7ec4\u4ef6 <code>render</code>      \u5728 render \u4e2d\u5305\u542b\u53e6\u4e00\u7ec4\u4ef6\u7684 tag \u5373\u53ef\u79f0\u4e3a\u7236\u7ec4\u4ef6</li> <li><code>componentWillReceiveProps</code> \uff08\u7236\u5b50\u7ec4\u4ef6\u6570\u636e\u4f20\u9012\uff09      \u4e8b\u5b9e\u4e0a\uff0c\u5728\u300c\u9996\u6b21\u63a5\u53d7\u53c2\u6570\u300d\u65f6\u4e0d\u8c03\u7528\uff08UPDATE props \u7684\u65f6\u5019\u624d\u5f00\u59cb\u8c03\u7528\uff09</li> <li><code>shouldComponentUpdate</code> - setState \u7531\u6b64\u5f00\u59cb      \u53ea\u80fd\u8fd4\u56de true / false\uff08\u662f\u5426\u7ee7\u7eed\u5411\u4e0b\u6267\u884c\uff09\uff0c\u9ed8\u8ba4\u8fd4\u56de true\uff08\u7ee7\u7eed\u66f4\u65b0\uff09</li> <li><code>componentWillUpdate</code> - forceUpdate \u7531\u6b64\u5f00\u59cb      \u4e0d\u66f4\u6539\u6570\u636e\u7684\u60c5\u51b5\u4e0b\u5f3a\u5236\u66f4\u65b0\uff08\u4e0d\u53d7 should \u94a9\u5b50\u7684\u9650\u5236\uff09</li> <li><code>render</code> \u81ea\u8eab</li> <li><code>componentDidUpdate</code></li> <li><code>componentWillUnmount</code></li> </ol>"},{"location":"chaps/Components/#_13","title":"\u5c0f\u7ed3","text":"<p>\u65e7\u7248\u672c\u7684\u751f\u547d\u5468\u671f\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a 1. \u521d\u59cb\u5316\u9636\u6bb5\uff1a\u521d\u6b21\u6e32\u67d3\uff0c\u7531 <code>ReactDOM.render</code> \u89e6\u53d1     - <code>constructor</code>     - <code>componentWillMount</code>     - <code>render</code>     - <code>componentDidMount</code>         \u4e00\u822c\uff1a\u5f00\u542f\u5b9a\u65f6\u5668\u3001\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u3001\u8ba2\u9605\u6d88\u606f 2. \u66f4\u65b0\u9636\u6bb5\uff1a\u7531 <code>this.setState</code> \u6216 \u7236\u7ec4\u4ef6\u91cd\u65b0 <code>render</code> \u89e6\u53d1      - <code>shouldComponentUpdate</code>      - <code>componentWillUpdate</code>      - <code>render</code>      - <code>componentDidUpdate(prev_props, prev_state, snapshot)</code> 3. \u5378\u8f7d\u7ec4\u4ef6\uff1a\u7531 <code>ReactDOM.unmounComponentAtNode</code> \u89e6\u53d1     - <code>componentWillUnmount</code>         \u4e00\u822c\uff1a\u5173\u95ed\u5b9a\u65f6\u5668\u3001\u53d6\u6d88\u8ba2\u9605\u64cd\u4f5c</p>"},{"location":"chaps/Components/#62","title":"6.2 \u65b0\u7248\u672c","text":"<p>\u5e9f\u5f03\u4e86 <code>componentWillMount</code> &amp; <code>conponentWillUpdate</code> &amp; <code>componentWillReceiveProps</code>\uff0c\u65b0\u589e\u4e86\u4e24\u4e2a\u94a9\u5b50\uff1a - <code>static getDerivedStateFromProps(props, state)</code>      state \u53d6\u51b3\u4e8e props \u65f6\u4f7f\u7528\uff08\u5176\u5b9e\u5728\u6784\u9020\u51fd\u6570\u91cc\u4e5f\u80fd\u5199\uff09     - \u5c5e\u4e8e\u7c7b\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u9700\u8981\u8fd4\u56de state \u5bf9\u8c61 / NULL     - \u4ece props \u8fd4\u56de computed\uff0c\u4e0d\u5141\u8bb8\u4fee\u6539     - \u82e5\u8fd4\u56de\u7684 state \u548c\u9884\u5b9a\u4e49\u51b2\u7a81\uff0c\u4ee5\u8be5\u8fd4\u56de\u503c\u4e3a\u51c6 - <code>getSanpshotBeforeUpdate</code> \u83b7\u53d6\u5feb\u7167(\u5728\u5b9e\u9645\u6e32\u67d3\u524d\u8c03\u7528)     - \u8fd4\u56de snapshot / NULL\uff08\u4efb\u4f55\u503c\u90fd\u53ef\u4ee5\u4f5c\u4e3a snapshot\uff09\uff0c\u4f20\u9012\u7ed9 DidUpate     - \u53ef\u4ee5\u4ece DOM \u4e2d\u6355\u83b7\u5148\u524d\u7684\u6eda\u52a8\u4f4d\u7f6e scrollTop\uff0c\u4e22\u7ed9 DidUpdate \u8fdb\u884c\u590d\u4f4d</p>"},{"location":"chaps/Components/#_14","title":"\u5c0f\u7ed3","text":"<ol> <li>\u521d\u59cb\u5316\u9636\u6bb5<ul> <li><code>consturctor</code></li> <li><code>getDerivedStateFromProps</code></li> <li><code>render</code> \u521d\u59cb\u5316 / \u66f4\u65b0\u6e32\u67d3</li> <li><code>componentDidMount</code> \u5f00\u542f\u76d1\u542c\uff0c\u53d1\u9001 ajax \u8bf7\u6c42</li> </ul> </li> <li>\u66f4\u65b0\u9636\u6bb5<ul> <li><code>getDerivedStateBeforeUpdate</code></li> <li><code>shouldComponentUpdate</code></li> <li><code>render</code></li> <li><code>getSnapshotBeforeUpdate</code></li> <li><code>componentDIdUpdate</code></li> </ul> </li> <li>\u5378\u8f7d\u9636\u6bb5<ul> <li><code>componentWillUnmount</code> \u6536\u5c3e\uff0c\u6e05\u7406\u5b9a\u65f6\u5668</li> </ul> </li> </ol>"},{"location":"chaps/Components/#7-purecomponent","title":"7 PureComponent","text":"<ul> <li>\u300c\u95ee\u9898\u300d<ul> <li>\u53ea\u8981\u6267\u884c <code>setState</code> \u5373\u4fbf\u662f <code>setState({})</code> \u90fd\u4f1a\u5f15\u8d77\u5f53\u524d\u7ec4\u4ef6\u91cd\u65b0 `render</li> <li>\u53ea\u8981\u7236\u7ec4\u4ef6\u91cd\u65b0 <code>render</code>\uff0c\u6240\u6709\u5b50\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0 <code>render</code></li> </ul> </li> <li>\u300c\u89e3\u51b3\u300d<ol> <li>\u91cd\u5199 <code>shouldComponentUpdate</code>\uff0c\u53ea\u6709 state/props \u66f4\u65b0\u624d\u8fd4\u56de <code>true</code> <code>js     shouldComponentUpdate(nextProps,nextState) {         return !this.state.xxx === nextState.xxx         return !this.props.xxx === nextPtops.         // \u53ea\u80fd\u4e00\u4e2a\u4e2a\u5206\u91cf\u5bf9\u6bd4     }</code></li> <li>\u4f7f\u7528 <code>PureComponent</code>      \u53ea\u8fdb\u884c\u6d45\u6bd4\u8f83\uff08\u6bd4\u6700\u5916\u5c42addr\uff09\uff0c\u5185\u5c42\u6570\u636e\u6539\u53d8\u4e5f\u8fd4\u56de <code>false</code> <code>jsx      import {PureComponent} from 'react'      export default class Demo extends PureComponent {          this.setState({name:'Tom'}) // \u6b63\u5e38\u68c0\u6d4b          // \u4e0b\u9762\u4ec5\u4fee\u6539\u5206\u91cf\uff0c\u65e0\u6cd5\u6b63\u5e38\u68c0\u6d4b          const obj = this.state          obj.name = 'Tom'          this.setState(obj) // \u5bf9\u8c61\u5730\u5740\u6ca1\u6709\u6539\u53d8\uff08push/unshift\u4e5f\uff09      }</code></li> </ol> </li> </ul>"},{"location":"chaps/Components/#8-render-props","title":"8 Render Props\uff08\u63d2\u69fd\uff09","text":"<p>\u7c7b\u4f3c\u4e8e slot\uff0c\u7ec4\u4ef6\u7684\u6807\u7b7e\u4f53\u5185\u5bb9\u53ef\u4ee5\u901a\u8fc7 <code>this.props.children</code> \u83b7\u5f97</p>"},{"location":"chaps/Components/#children-props","title":"Children Props","text":"<ol> <li>\u4f20\u9012\u666e\u901a\u7684\u5b57\u7b26\u4e32     <code>jsx     render() {         return (             &lt;A&gt;Ahhhhhhh&lt;/A&gt;         )     }     // @ A.jsx     render() {         return (             &lt;div&gt;In CompA Receive:{this.props.children}&lt;/div&gt;         )     }</code></li> <li>\u4f20\u9012\u4e00\u4e2a\u7ec4\u4ef6      <code>jsx      render() {          return (             &lt;A&gt;                 &lt;B/&gt;             &lt;/A&gt;          )      }      // \u7ec4\u4ef6B\u53ef\u4ee5\u901a\u8fc7 children \u83b7\u53d6\uff0c\u4ece\u800c\u6784\u6210\u7236\u5b50\u5173\u7cfb\uff1b\u4e0b\u9762\u662f\u7b49\u4ef7\u64cd\u4f5c</code></li> </ol>"},{"location":"chaps/Components/#render-props","title":"Render Props","text":"<pre><code>&lt;A render={()=&gt;&lt;B/&gt;}/&gt;\n// \u5728 A \u4e2d\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6e32\u67d3\n{this.props.render()}\n\n// \u9700\u8981\u7a7f\u53c2\u7684\u60c5\u666f\n&lt;A render={(name)=&gt;&lt;B name={name}/&gt;}/&gt;\nrender() {\n    const {name} = this.state\n    return (\n        {this.props.render(name)} // \u7c7b\u63d2\u69fd\uff0c\u4f46\u662f\u6307\u5b9a\u4e86 data\n    )\n}\n</code></pre>"},{"location":"chaps/Components/#9-error-boudary","title":"9 Error Boudary","text":"<p>\u7528\u4e8e\u6355\u83b7\u540e\u4ee3\u7ec4\u4ef6\u7684\u9519\u8bef\uff0c\u6e32\u67d3\u5907\u7528\u9875\u9762\uff1b \u4e0d\u80fd\u6355\u83b7\u81ea\u8eab / \u5408\u6210\u4e8b\u4ef6 / \u5b9a\u65f6\u5668\u4e2d\u4ea7\u751f\u7684\u9519\u8bef</p> <pre><code>// \u662f\u4e00\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\uff0c\u540e\u4ee3\u7ec4\u4ef6\u5728\u751f\u547d\u5468\u671f\u4e2d\u62a5\u9519\u65f6\u89e6\u53d1\uff08\u6bd4\u5982render\uff09\nstatic getDerivedStateFormError(err) {\n    console.log(err)\n    // \u5728render\u524d\u89e6\u53d1\uff0c\u8fd4\u56de\u7684\u662f newState\n    return {\n        hasError: true // =&gt; \u53ef\u4ee5\u7528 if \u5224\u65ad\u6e32\u67d3\u6b63\u5e38/\u62a5\u9519\u9875\u9762\n        // be like {this.state,hasError ? 'Sorry' : &lt;Child/&gt;}\n    }\n}\n// \u5bc4\u4e86\u5c31\u4f1a\u8c03\u8fd9\u4e2a\u51fd\u6570\uff1a\u53d1\u9001\u7ed9\u540e\u53f0\uff0c\u7edf\u8ba1\u9875\u9762\u9519\u8bef\ncomponentDidCatch(err, info) {\n    console.log(err, info)\n}\n</code></pre>"},{"location":"chaps/Message/","title":"3 \u7ec4\u4ef6\u901a\u4fe1","text":""},{"location":"chaps/Message/#1","title":"1 \u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1","text":"<ul> <li>Father-to-Son     \u901a\u8fc7 <code>props</code> \u8fdb\u884c\u4f20\u9012</li> <li>Son-to-Father     \u901a\u8fc7 <code>props</code> \u4e2d\u7684\u51fd\u6570\u4f20\u9012\uff08\u51fd\u6570\u5728\u7236\u7ec4\u4ef6\u4e2d\u5b9e\u73b0\uff09     =&gt; State \u5728\u4f55\u5904\uff0c\u64cd\u4f5c State \u7684 method \u5c31\u5728\u4f55\u5904</li> </ul>"},{"location":"chaps/Message/#2","title":"2 \u4efb\u610f\u7ec4\u4ef6\u95f4\u901a\u4fe1","text":""},{"location":"chaps/Message/#21","title":"2.1 \u6d88\u606f\u8ba2\u9605\u4e0e\u53d1\u5e03","text":"<p>\u6b64\u5904\u4f7f\u7528 <code>PubSub.js</code> \u5b9e\u73b0\uff0c\u9700\u8981\u63d0\u524d\u5b89\u88c5\uff1a<code>npm i pubsub-js --save</code></p> <pre><code>import PubSub from 'pubsub-js' // \u5f15\u5165 @ both\n// \u8ba2\u9605\u6d88\u606f\ncomponentDidMount() {\n    PubSub.subscribe('msgName',(_,data) =&gt; { // _ \u662f\u5360\u4f4d\u7b26\u53f7\n        this.setState({...data}) // \u4e00\u4e2a\u89e3\u6784\u8d4b\u503c\u7684\u9a9a\u64cd\u4f5c\n    })\n}\n// \u53d1\u5e03\u6d88\u606f @ any Function\nfunction (){\n    const dataobj = {\n        name: '',\n        age: 12\n    }\n    PubSub.publish('msgName', dataObj)\n}\n</code></pre>"},{"location":"chaps/Message/#22-redux","title":"2.2 Redux","text":"<p>Redux \u7528\u4e8e\u7ba1\u7406\u591a\u4e2a\u7ec4\u4ef6\u7684\u5171\u4eab\u72b6\u6001\uff0c\u4e2d\u6587\u6587\u6863 \u9996\u5148\u9700\u8981\u5b89\u88c5 <code>npm i redux --save</code></p>"},{"location":"chaps/Message/#_1","title":"\u5f00\u53d1\u8005\u5de5\u5177","text":"<ol> <li>\u5b89\u88c5 <code>npm i redux-devtools-extension</code></li> <li>\u5728 <code>store</code> \u4e2d\u8fdb\u884c\u914d\u7f6e      <code>js      // @ redux/store      import {composeWithDevTools} from 'redux-devtools-extension'      const store = createStore(          allReducers,          composeWithDevTools(applyMiddleware(thunk))      )</code></li> </ol>"},{"location":"chaps/Message/#_2","title":"\u4e09\u4e2a\u6838\u5fc3\u6982\u5ff5","text":"<ol> <li>Action \u52a8\u4f5c\u5bf9\u8c61\uff0c\u5305\u542b\u4e24\u4e2a\u5c5e\u6027\uff1a<ul> <li><code>type</code>\uff1a\u5b57\u7b26\u4e32\uff0c\u552f\u4e00\u6807\u8bc6\u52a8\u4f5c</li> <li><code>data</code>\uff1a\u4efb\u610f\u7c7b\u578b\uff0c\u53ef\u9009</li> </ul> </li> <li>Reducer\uff08\u5fc5\u987b\u662f\u7eaf\u51fd\u6570\uff09<ul> <li>\u7528\u4e8e \u521d\u59cb\u5316 / \u52a0\u5de5 \u72b6\u6001</li> <li>\u300c\u52a0\u5de5\u300d\u66f4\u5177 old-state &amp; action \u751f\u6210\u65b0\u7684 state</li> <li>\u4e0d\u80fd\u76f4\u63a5\u64cd\u4f5c preState =&gt; \u53ea\u80fd\u8fd4\u56de\u4e00\u4e2a\u57fa\u4e8e preState \u8ba1\u7b97\u7684 newState     \u6240\u4ee5\u4e0d\u80fd\u7528 <code>preState.unshift</code>  -&gt; <code>return [data,...preState]</code></li> </ul> </li> <li>Store - C\u4f4d\u4eba\u58eb</li> </ol>"},{"location":"chaps/Message/#_3","title":"\u7cbe\u7b80\u7248\u5b9e\u73b0","text":"<p>\u6211\u4eec\u5728 <code>/src/redux</code> \u4e0b\u5b58\u653e\u76f8\u5173\u6587\u4ef6</p> <ul> <li>\u521b\u5efa Store</li> </ul> <pre><code>// createStore \u597d\u50cf\u88ab\u5f03\u7528\u4e86\uff0c\u518d\u8bf4\u5427\nimport { createStore } from 'redux'\nimport countReducer from './countReducer'\nexport default createStore(countReducer)\n</code></pre> <ul> <li>\u521b\u5efa\u7528\u4e8e\u8ba1\u7b97\u5b9e\u4f8b\u7684 Reducer</li> </ul> <pre><code>const initState = 0 // \u5f53\u4f20\u5165 undefined \u65f6\u8fdb\u884c\u521d\u59cb\u5316\nexport default function countReducer(preState=initState, action) {\n    const {type, data} = action // \u63d0\u53d6 action \u7684\u76f8\u5173\u4fe1\u606f\n    // \u6839\u636e type \u5bf9 state \u8fdb\u884c\u8fed\u4ee3\u4fee\u6539\n    switch(type) {\n        case 'increase': return preState + data\n        case 'decrease': return preState - data\n        default: return preState\n    }\n    // \u662f\u5426\u64cd\u4f5cstate\u7684\u524d\u7f6e\u5224\u65ad\u5e94\u8be5\u5728\u8c03\u7528 dispatch \u524d\u5b9e\u73b0\n}\n</code></pre> <ul> <li>\u53d1\u5e03\u66f4\u6539\u6307\u4ee4</li> </ul> <pre><code>import store from './redux/store'\nfunction add() {\n    const {value} = this.selected // \u83b7\u53d6\u9009\u4e2d\u6570\u5b57\n    // \u53d1\u5e03\u52a0\u6cd5\u6307\u4ee4\n    store.dispatch({\n        type: 'increase',\n        data: value*1\n    })\n    // \u6b64\u5916\uff0c\u53ef\u4ee5\u901a\u8fc7 store.getState \u83b7\u53d6\u5f53\u524d\u6570\u636e\n}\n</code></pre> <ul> <li>\u589e\u52a0\u8ba2\u9605     \u56e0\u4e3a store \u6570\u636e\u7684\u6539\u53d8\u4e0d\u56de\u89e6\u53d1\u91cd\u65b0 render\uff0c\u6240\u4ee5\uff1a     <code>jsx     import store from './redux/store';     store.subscribe(()=&gt;{         root.render(&lt;App /&gt;);     })     // \u5176\u5b9e\u4e5f\u53ef\u4ee5\u5728\u64cd\u4f5c\u5b8c\u4e4b\u540e\u8c03\u7528\u4e00\u4e0b setState({})</code></li> </ul>"},{"location":"chaps/Message/#_4","title":"\u5b8c\u6574\u7248\u5b9e\u73b0","text":"<ul> <li>\u6dfb\u52a0\u5e38\u91cf\u6a21\u5757\uff1a\u907f\u514d\u62fc\u5199\u9519\u8bef     <code>js     // @ redux/const.js     export const INCREMENT = 'increment'     export const DECREMENT = 'decrement'</code></li> <li>\u6dfb\u52a0 ActionCreator - \u751f\u6210 action \u5bf9\u8c61     <code>js     // @ redux/countActionCreator.js     import {INCREAMENT} from './const'     // \u5206\u522b\u66b4\u9732 - \u56e0\u4e3a\u4f1a\u6709\u597d\u51e0\u4e2a\u51fd\u6570     export const createIncAction = (data)=&gt;({ // \u8fd4\u56de Object         type: INCREMENT,         data     })     // \u540c\u6837 reducer \u5e94\u8be5 case INCREMENT</code></li> <li>\u5f15\u5165\u5e76\u4f7f\u7528     <code>jsx     import {createIncAction} from './redux/createActionCreator'     // \u53d1\u9001 dispatch \u65f6\u4f7f\u7528\u5b98\u65b9\u624b\u6bb5\u521b\u5efa     store.dispatch(createIncAction(value))</code></li> </ul>"},{"location":"chaps/Message/#action","title":"\u5f02\u6b65 Action\uff08\u4e0d\u5fc5\u8981\uff09","text":"<ul> <li>\u540c\u6b65 Action dispatch \u4e00\u4e2a\u5305\u542b type &amp; data \u7684\u666e\u901a\u5bf9\u8c61</li> <li>\u5f02\u6b65 Action dispatch \u4e00\u4e2a function</li> </ul> <p>\u9700\u8981\u5b89\u88c5\u4e2d\u95f4\u4ef6 <code>npm i redux-thunk</code>\uff0c\u5728 store \u4e2d\u5e94\u7528\u4ee5\u4e0b\u66f4\u6539</p> <pre><code>// @ redux/store.js\nimport thunk from 'redux-thunk'\nimport {createStore,applyMiddleware} from 'redux'\nexport default createStore(countReducer, applyMiddleware(thunk))\n</code></pre> <pre><code>// @ redux/countActionCreator.js \u6dfb\u52a0\u5f02\u6b65 action\nexport const createAsyncIncreaceAction = (data, time) =&gt; {\n    return (dispatch) =&gt; { // \u8fd4\u56de function\n        setTimeout(()=&gt;{ // \u5f00\u542f\u5ef6\u65f6\n            dispatch(createIncreaceAction(data)) // \u8c03\u7528\u540c\u6b65action\n        }, time)\n    }\n}\n// \u5176\u5b9e\u53ef\u4ee5\u5728\u7ec4\u4ef6\u91cc\u5b9e\u73b0\u8fd9\u4e2a\u903b\u8f91\n</code></pre>"},{"location":"chaps/Message/#23-react-redux","title":"2.3 react-redux","text":"<p>\u6211\u4eec\u4f7f\u7528\u300c\u5bb9\u5668\u7ec4\u4ef6\u300d\u5305\u88f9 UI \u7ec4\u4ef6\uff0c\u5bb9\u5668\u7ec4\u4ef6\uff1a - \u76f4\u63a5\u548c Redux \u4ea4\u63a5\uff0c\u4f7f\u7528\u5176 API\uff08getState / dispatch\uff09 - \u5411UI\u7ec4\u4ef6\u63d0\u4f9b\uff1areudx\u4e2d\u4fdd\u5b58\u7684\u72b6\u6001 &amp; \u64cd\u4f5c\u72b6\u6001\u7684\u65b9\u6cd5\uff08\u901a\u8fc7 props\uff09</p> <p>\u9996\u5148\u9700\u8981\u5b89\u88c5 <code>npm i react-redux</code>\uff0c\u968f\u540e\u521b\u5efa\u5bb9\u5668\u7ec4\u4ef6</p> <pre><code>// @ container.js\uff0c\u5f15\u5165UI\u7ec4\u4ef6\u53ca\u8fde\u63a5\u4ef6\nimport UI from './UIcomp'\nimport {connect} from 'react-reduc'\n// \u5f15\u5165 action\nimport { createIncAction, createDecAction } from './actionCreator'\n\n// \u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff08\u4f1a\u5408\u5e76\u5230 props \u4e2d\uff09\nfunction mapStateToProps(state) {\n    return {count: state}\n}\n\n// \u8fd4\u56de\u5bf9\u8c61\uff0c\u662f methods \u7684\u952e\u503c\u5bf9\nfunction mapDispatchToProps(dispatch) {\n    return {\n        add: (val) =&gt; dispatch(createIncAction(val)),\n        sub: (val) =&gt; dispatch(createDecAction(val))\n    }\n}\n\n// \u4e24\u4e2a\u53c2\u6570\u5206\u522b\u5c06 data &amp; methods \u4f20\u9012\u7ed9 UI.props\nexport default connect(mapStateToProps, mapDispatchToProps)(UI)\n\n// \u53ef\u4ee5\u5728 UI \u4e2d\u4f7f\u7528 this.props.count / this.props.add \u8bbf\u95ee\u6570\u636e\u548c\u65b9\u6cd5\n</code></pre> <pre><code>// store \u5728\u5e94\u7528UI\u7ec4\u4ef6\u7684\u6587\u4ef6\u4e2d\u5f15\u5165\uff0c\u5e76\u901a\u8fc7 props \u4f20\u9012\n// @ UIcomponent\nimport store from './redux/store'\nimport Container from './container'\nexport default UI extends Component {\n    render() {\n        return (\n            &lt;Container store={store}/&gt;\n        )\n    }\n}\n</code></pre>"},{"location":"chaps/Message/#_5","title":"\u7cbe\u7b80\u7248\u672c","text":"<pre><code>// \u5bf9 container \u8fdb\u884c\u4e00\u4e2a\u7b80\u5199\u7684\u5927\u52a8\u4f5c\nexport default connect(\n    state =&gt; ({count:state}), // \u4f7f\u7528\u5706\u62ec\u53f7\u5305\u88f9\u8fd4\u56de\u7684\u5bf9\u8c61\uff0c\u907f\u514d\u6b67\u4e49\n    {   // react-redux \u4f1a\u81ea\u52a8\u8fdb\u884c\u5206\u53d1\uff0c\u53c2\u6570\u4f1a\u76f4\u63a5\u88ab actionCreator \u63a5\u6536\n        add: createIncAction,\n        sub: createDecAction,\n        addAsync: createAsyncIncAction\n    }\n)(UI)\n</code></pre> <ul> <li> <p><code>react-redux</code> \u901a\u8fc7 <code>connect</code> \u76d1\u542c\u4e86\u6570\u636e\u53d8\u5316\uff0c\u5728 <code>index.js</code>  \u4e2d\u4e5f\u4e0d\u7528\u624b\u52a8\u53ef\u8fdb\u884c\u6d88\u606f\u8ba2\u9605\u4e86</p> </li> <li> <p>\u56e0\u4e3a\u6240\u6709\u4eba\u90fd\u8981\u7528\u5230 store\uff0c\u5728\u4f7f\u7528\u7ec4\u4ef6\u7684\u65f6\u5019\u4e00\u4e2a\u4e2a <code>store={store}</code> \u5b9e\u5728\u592a\u9634\u95f4\u54e9\uff0c\u6240\u4ee5\u5bf9 App \u8fdb\u884c\u4e00\u4e2a\u5927\u7684\u6539\u9020     <code>jsx     // @ index.jsx     import store from './store'     import {Provider} from 'react-redux'     // \u8fd9\u4e00\u64cd\u4f5c\u662f\u7684App\u7684\u6240\u6709\u540e\u4ee3\u7ec4\u4ef6\u90fd\u63a5\u6536store     ReactDOM.render(         &lt;Provider store={store}&gt;             &lt;App/&gt;         &lt;/Provider&gt;,         document.getElementById('root')     )</code></p> </li> <li> <p>\u6574\u5408 UI &amp; Container\uff081v1\u4f1a\u5bfc\u81f4\u6587\u4ef6\u6570\u91cf double\uff0c\u6240\u4ee5\u6211\u4eec\u5c1d\u8bd5\u6574\u5230\u4e00\u8d77\uff09</p> </li> </ul> <pre><code>// \u672c\u8d28\u662f\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u5b9a\u4e49\u4fe9\u7ec4\u4ef6\uff0c\u7136\u540e\u628a Container \u4ea4\u51fa\u53bb\n// 1. \u9996\u5148\u5b9a\u4e49\u672c\u4f53\u7684 UI \u7ec4\u4ef6\uff08\u7167\u5e38\u4ece props \u4e2d\u53d6\u7528\uff09\u3001\nclass Count extends Component {}\n// 2. \u968f\u540e\u5b9a\u4e49\u5e76\u4ea4\u51fa Container\nexport default connect(state,methods)(Count)\n\n// \u4f7f\u7528\u65f6\u4ee5 Count \u540d\u4e49\u5f15\u5165\u5e76\u4f7f\u7528\u5c31\u884c\uff08\u5b9e\u9645\u4e0a\u5f15\u5165\u7684\u662f Container\uff09\n</code></pre>"},{"location":"chaps/Message/#_6","title":"\u6570\u636e\u5171\u4eab","text":"<ul> <li>\u6240\u6709\u7684\u64cd\u4f5c\u5b9a\u4e49\u5728 \u540c\u4e00\u4e2a const \u6587\u4ef6\u4e2d</li> <li>\u4e0d\u540c\u79cd\u7c7b\u7684\u64cd\u4f5c\u5e94\u8be5\u5b9a\u4e49\u72ec\u7acb\u7684 actionMaker &amp; Reducer</li> <li>\u9700\u8981\u5728 <code>store.js</code> \u4e2d\u6c47\u603b\u6240\u6709\u7684 Reducer     <code>js     // @ store.js     // \u5f15\u5165\u6240\u6709\u7684 Reducer     import{combineReducers} from 'redux'     const CombinedReducer = combineReducers({         // \u5404\u4e2areducer\u64cd\u4f5c\u7684\u7ed3\u679c\u5c06\u4f5c\u4e3a state \u7684\u5bf9\u5e94\u5206\u91cf         sum: countReducer, // import\u540c\u540d\u65f6\u53ef\u89e6\u53d1\u7b80\u5199         list: personReducer     })     // \u66b4\u9732\u6574\u5408\u7684 store     export default createStore(         CombinedReducer,         applyMiddleware(thunk)     )</code><ul> <li>\u8fdb\u4e00\u6b65\u4f18\u5316\uff1a\u5728 <code>redux/reducers/index.js</code> \u4e2d\u5f15\u5165\u5e76\u6c47\u603b     <code>js     import subReducer from './somewhere'     export default AllReducers = {...}     // @ store.js     import AllReducers from './redux/reducer/index'     // \u5c06 AllReducers \u4f5c\u4e3a createStore \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570</code></li> </ul> </li> <li>\u5728\u521d\u59cb\u5316 Container \u7684\u65f6\u5019\u5bf9 state \u505a\u5bf9\u5e94\u4fee\u6539     <code>jsx     // UI \u7ec4\u4ef6\u4e2d\u4f7f\u7528\u7684 props \u5206\u91cf\u57fa\u4e8e\u6b64\u5904 state \u7684\u91cd\u547d\u540d\u7ed3\u679c     export default connnect(         state =&gt; ({             // \u6620\u5c04\u5176\u4ed6 reducer \u4fee\u6539\u7684\u65f6\u5019\u4f7f\u7528\u5206\u91cf\uff08\u652f\u6301\u91cd\u547d\u540d\uff09             // \u5206\u91cf\u540d\u4e0e CombineReducer \u65f6\u6ce8\u518c\u7684\u4e00\u81f4             personList: state.list,             sum: state.sum         }),         {   // \u4ec5\u6620\u5c04\u81ea\u8eab\u4f7f\u7528\u7684\u65b9\u6cd5             addPerson:createAddPersonAction // \u540d\u5b57\u8d77\u5f97\u597d\u4e5f\u80fd\u7b80\u5199         }     )(Person)</code></li> </ul>"},{"location":"chaps/Message/#23","title":"2.3 \u540e\u4ee3\u7ec4\u4ef6\u901a\u4fe1","text":"<ol> <li>\u521b\u5efa Context \u5bb9\u5668 <code>const xxContext = Reace.createContext()</code></li> <li>\u5728 render \u4e2d\u4f7f\u7528 <code>&lt;xxContext&gt;</code> \u5305\u88f9\u5b50\u7ec4\u4ef6\uff0c\u901a\u8fc7 value \u4f20\u9012\u6570\u636e      <code>jsx      // \u5355\u4e2a\u6570\u636e value={username}      // \u591a\u4e2a\u6570\u636e value={{name:username, age:userage}}      &lt;xxContext.Provider value={dataName}&gt;          &lt;DescComponent/&gt;      &lt;/xxContext.Provider&gt;</code></li> <li>\u5728\u540e\u4ee3\u7ec4\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e</li> </ol> <pre><code>// 1. rcc Only\nstatic contextType = xxContext; // \u58f0\u660e\u63a5\u6536\u54ea\u4e2aContext\nconsole.log(this.context); // \u8bfb\u53d6 value \u4e2d\u4f20\u9012\u7684\u6570\u636e\n\n// 2. both rcc &amp; rfc\n&lt;Consumer&gt;\n    {\n        value =&gt; {\n            return `\u5e74\u9f84\u662f${value.age+1}` // \u5b9e\u9645\u663e\u793a\u6570\u636e\uff08\u53ef\u52a0\u5de5\uff09\n            // \u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a template\n        }\n    }\n&lt;Consumer/&gt;\n</code></pre>"},{"location":"chaps/Router/","title":"5 \u8def\u7531","text":"<p>SPA(Single Page Application) - \u6574\u4e2a\u5e94\u7528\u53ea\u6709\u4e00\u4e2a\u5b8c\u6574\u7684\u9875\u9762 - \u70b9\u51fb\u9875\u9762\u4e2d\u7684\u94fe\u63a5\u300c\u4e0d\u4f1a\u5237\u65b0\u300d\u9875\u9762\uff08\u53ea\u4f1a\u5c40\u90e8\u66f4\u65b0\uff09 - \u6570\u636e\u9700\u8981\u901a\u8fc7 Ajax \u83b7\u53d6\uff0c\u5728\u524d\u7aef\u5f02\u6b65\u5c55\u793a</p> <p>\u6240\u6709\u4e0d\u5b58\u5728\u7684\u8d44\u6e90\u90fd\u8fd4\u56de <code>index.html</code> \u515c\u5e95...</p>"},{"location":"chaps/Router/#intro","title":"Intro","text":"<p>React-Router \u5728 npm \u4e0a\u5171\u53d1\u5e03\u4e86\u4e09\u4e2a\u4e0d\u540c\u7684\u7248\u672c - <code>react-router</code>\uff1a\u6838\u5fc3\u5e93 - <code>react-router-dom</code>\uff1a\u6dfb\u52a0\u4e86DOM\u7ec4\u4ef6\uff0c\u6bd4\u5982 BrowserRouter - <code>react-router-native</code>\uff1a\u6dfb\u52a0\u4e86\u7528\u4e8e ReactNative \u7684 API</p>"},{"location":"chaps/Router/#1-react-router-dom5","title":"1 React-Router-Dom@5","text":"<ul> <li>\u4e00\u822c\u628a\u666e\u901a\u7ec4\u4ef6\u653e\u5728 <code>components</code> \u4e0b\uff0c\u8def\u7531\u7ec4\u4ef6\u653e\u5728 <code>pages</code> \u4e0b</li> <li>\u8def\u7531\u7ec4\u4ef6\u9ed8\u8ba4\u4f1a\u6536\u5230 <code>history, location, match</code> \u4e09\u4e2a <code>props</code></li> </ul>"},{"location":"chaps/Router/#set-up","title":"Set Up","text":"<pre><code>npm i react-router-dom@5 # \u6b64\u5904\u5b66\u4e60 Version 5\n</code></pre>"},{"location":"chaps/Router/#basic-usage","title":"Basic Usage","text":"<pre><code>import { Link, Route, BrowserRouter } from 'resct-router-dom'\n// import \u6240\u6709\u8981\u7528\u5230\u7684\u8def\u7531\u7ec4\u4ef6\nexport default class App extends Component {\n    render() {\n        return (\n            {/* \u7531\u540c\u4e00\u5bf9\u300cBrowserRouter\u300d\u5305\u88f9\u7684\u5185\u5bb9\u89c6\u4e3a\u72ec\u7acb\u7684\u8def\u7531\u89c4\u5219\n                \u6240\u4ee5\u8fd9\u91cc\u5e72\u8106\u628a App \u5168\u5305\u4e0a\u4e86 */}\n            &lt;BrowserRouter&gt;\n                &lt;h1&gt;This is APP!!!&lt;/h1&gt;\n                {/* \u7f16\u5199\u8def\u7531\u94fe\u63a5\uff0c\u76f8\u5f53\u4e8e a \u6807\u7b7e */}\n                &lt;Link to=\"/home\"&gt;Home&lt;/Link&gt;\n                &lt;Link to=\"/shop\"&gt;Shop&lt;/Link&gt;\n                {/* \u6ce8\u518c\u8def\u7531\uff0c\u76f8\u5f53\u4e8e route + router-view */}\n                &lt;Route path=\"/home\" component={Home}/&gt;\n                &lt;Route path=\"/shop\" component={Shop}/&gt;\n            &lt;/BrowserRouter&gt;\n        )\n    }\n}\n// \u8fd8\u6709\u53e6\u5916\u4e00\u79cd\u5b8c\u5168\u5305\u88f9\u6cd5 @ index.js\nReactDOM.render(\n    &lt;BrowserRouter&gt;\n        &lt;App/&gt;\n    &lt;/BrowserRouter&gt;,\n    document.getElementById('root')\n)\n// \u5176\u5b9e\u7528 HashRouter \u4e5f\u884c\uff08\u4f1a\u591a\u4e00\u4e2a'#'\uff0c\u8ba4\u4e3a\u540e\u9762\u7684\u90fd\u662f\u524d\u53f0\u8d44\u6e90\uff09\n</code></pre>"},{"location":"chaps/Router/#11","title":"1.1 \u6807\u7b7e\u5f0f\u8def\u7531","text":""},{"location":"chaps/Router/#navlink","title":"NavLink \u6807\u7b7e","text":"<p><code>&lt;Link&gt;</code> \u6807\u7b7e\u4e0d\u652f\u6301\u52a8\u6001\u9ad8\u4eae\u6548\u679c</p> <pre><code>export default class App extends Component {\n    render() {\n        return (\n            &lt;BrowserRouter&gt;\n                {/* NavLink \u4f1a\u9ed8\u8ba4\u4e3a\u5f53\u524d\u9009\u4e2d\u7684 tag \u8ffd\u52a0 active\u4f5c\u4e3a\u7c7b\u540d\n                    \u4e5f\u53ef\u4ee5\u7528 activeClassName \u8fdb\u884c\u6307\u5b9a\u634f */}\n                &lt;NavLink activeClassName=\"demo\" to=\"/home\"&gt;Home&lt;/Link&gt;\n                &lt;NavLink to=\"/shop\"&gt;Shop&lt;/Link&gt;\n            &lt;/BrowserRouter&gt;\n        )\n    }\n}\n</code></pre> <p>\u4e0b\u9762\u5bf9 <code>NavLink</code> \u8fdb\u884c\u4e00\u4e9b\u5c0f\u5c0f\u7684\u5c01\u88c5\uff08\u4e00\u76f4\u5199\u4e00\u6837\u7684 tag \u771f\u7684\u5f88\u70e6\u8bf6\uff01\uff09</p> <pre><code>// MyNavLink \u662f\u4e00\u822c\u7ec4\u4ef6\uff0c\u53ea\u662f\u5c01\u88c5\u4e86 activeClassName &amp; className \u90e8\u5206\n// App \u4e2d\u7684\u4f7f\u7528\uff08\u4f7f\u7528 props \u548c slot \u4f20\u9012\u4e2a\u6027\u6570\u636e\uff09\n&lt;MyNavLink to=\"/home\"&gt;Home&lt;/MyNavLink&gt;\n// \u7ec4\u4ef6\u5b9a\u4e49\nexport default class MyNavLink extends Component {\n    render() {\n        return (\n            {/* \u628a\u6240\u6709\u63a5\u53d7\u7684 prop \u90fd\u585e\u8fdb tag \u7684\u5c5e\u6027\u91cc\u4e86 */}\n            &lt;NavLink {...this.props} activeClassName=\"active\" className=\"demo\"&gt;\n                {this.props.children}\n            &lt;/NavLink&gt;\n        )\n    }\n}\n// \u9274\u4e8e NavLink \u7684\u6807\u7b7e\u4f53\u5185\u5bb9\u53ef\u4ee5\u76f4\u63a5\u7528 children \u5c5e\u6027\u914d\u7f6e\n&lt;MyNavLink to=\"/home\" children=\"Home\"/&gt;\nreturn (\n    &lt;NavLink {...this.props} activeClassName=\"active\" className=\"demo\" /&gt;\n)\n</code></pre>"},{"location":"chaps/Router/#switch","title":"Switch \u6807\u7b7e","text":"<p>\u5b9e\u73b0 First Match\uff0c\u63d0\u9ad8\u5339\u914d\u6548\u7387</p> <pre><code>// \u7528 switch \u5305\u88f9 route \u5c31\u53ef\u4ee5\u4e86\n// \u9ed8\u8ba4\uff1aLast Match -&gt; /shop \u663e\u793a ABC\n// Switch\uff1aFirst Match -&gt; /shop \u663e\u793a Shop\n&lt;Switch&gt;\n    &lt;Route path=\"/home\" component={Home}/&gt;\n    &lt;Route path=\"/shop\" component={Shop}/&gt;\n    &lt;Route path=\"/shop\" component={ABC}/&gt;\n&lt;/Switch&gt;\n</code></pre>"},{"location":"chaps/Router/#_1","title":"\u6837\u5f0f\u4e22\u5931","text":"<p>\u5237\u65b0\u540e\u901a\u8fc7 <code>./index.css</code> \u8bf7\u6c42\u8d44\u6e90\uff0c<code>cur_path</code> \u5176\u5b9e\u5df2\u7ecf\u4e0d\u662f\u6839\u76ee\u5f55\u4e86\uff0c\u5b9e\u9645\u8fd4\u56de\u7684\u662f <code>index.html</code> \u4e0b\u9762\u662f\u4e09\u79cd\u89e3\u51b3\u65b9\u6848\uff1a 1. \u628a <code>index.html</code> \u4e2d\u7684 <code>link</code> \u8def\u5f84\u6539\u6210 <code>/index.css</code> \uff08\u53bb\u6389\u6700\u524d\u9762\u7684 <code>.</code>\uff09 2. \u628a <code>index.html</code> \u4e2d\u7684 <code>link</code> \u8def\u5f84\u6539\u6210 <code>%PUBLIC_URL%/index.css</code> \uff08\u53bb\u6389\u6700\u524d\u9762\u7684 <code>.</code>\uff09     1. \u4f7f\u7528 <code>HashRouter</code> \uff08<code>#</code> \u540e\u4f5c\u4e3a hash \u503c\uff0c\u4e0d\u5f71\u54cd <code>cur_path</code>\uff09</p>"},{"location":"chaps/Router/#_2","title":"\u5339\u914d\u6a21\u5f0f","text":"<ul> <li>\u6a21\u7cca\u5339\u914d\uff1a\u524d\u7f00\u5305\u542b\u5c31\u7b97\u5339\u914d\u4e0a</li> <li>\u4e25\u683c\u5339\u914d\uff1a<ul> <li>\u5168\u7b49\u5339\u914d\uff0c\u9700\u8981\u914d\u7f6e <code>&lt;Route exact={true}/&gt;</code> \u6216\u8005\u7b80\u5199 <code>&lt;Route exact/&gt;</code></li> <li>\u53ef\u80fd\u4f1a\u5f71\u54cd\u5d4c\u5957\u8def\u7531\u7684\u6b63\u5e38\u663e\u793a</li> </ul> </li> </ul>"},{"location":"chaps/Router/#_3","title":"\u91cd\u5b9a\u5411","text":"<pre><code>// \u653e\u5728\u8def\u7531\u6ce8\u518c\u7684\u300c\u6700\u4e0b\u65b9\u300d\u8fdb\u884c\u515c\u5e95 - \u5168\u90fd\u4e0d\u7b26\u5408\u5c31\u8dd1\u5230 redirect \u53bb\n&lt;Switch&gt;\n    &lt;Route path=\"/home\" component={Home}/&gt;\n    &lt;Route path=\"/shop\" component={Shop}/&gt;\n    &lt;Redirect to=\"/home\" /&gt;\n&lt;/Switch&gt;\n</code></pre>"},{"location":"chaps/Router/#_4","title":"\u5d4c\u5957\u8def\u7531","text":"<p>\u5f00\u542f\u4e25\u683c\u5339\u914d\u5c31\u76f4\u63a5\u5bc4\u4e86</p> <pre><code>// \u6211\u4eec\u5728 Home \u4e0b\u8fdb\u884c\u4e8c\u7ea7\u8def\u7531\uff0c\u90a3\u4e48\u5c31\u8981\u5728 Home.jsx \u4e2d\u8fdb\u884c\u914d\u7f6e\n// NavLink.to &amp;&amp; Route.path \u4e2d\u90fd\u8981\u5e26\u6709\u4e00\u7ea7\u8def\u7531 /home\n&lt;BrowserRouter&gt;\n    &lt;NavLink activeClassName=\"active\" to=\"/home/message\"&gt;Message&lt;/NavLink&gt;&lt;br/&gt;\n    &lt;NavLink activeClassName=\"active\" to=\"/home/price\"&gt;Price&lt;/NavLink&gt;\n    {/* \u672c\u7ea7\u522b\u7684\u91cd\u5b9a\u5411\u4e5f\u8981\u5305\u542b\u4e0a\u4e00\u7ea7\u8def\u7531 */}\n    &lt;Redirect to=\"/home/message\"/&gt;\n    &lt;Route path=\"/home/message\" component={hMsg}&gt;&lt;/Route&gt;\n    &lt;Route path=\"/home/price\" component={hPrc}&gt;&lt;/Route&gt;\n&lt;/BrowserRouter&gt;\n</code></pre>"},{"location":"chaps/Router/#_5","title":"\u8def\u7531\u7a7f\u53c2","text":"<pre><code>// 1. params - \u4e0d\u80fd\u76f4\u63a5\u7528\u6a21\u7248\u5b57\u7b26\u4e32\u634f\n    // \u53d1\u9001\n    &lt;Link to={`url/${this.state.p1}/${this.state.p2}`}/&gt;\n    // \u63a5\u6536\n    // 1. \u9996\u5148\u5728 Route \u4e2d\u5360\u4f4d\n    &lt;Route path=\"/url/:p1/:p2\" component={Comp}/&gt;\n    // 2. \u5728 Comp \u7684 props.match.params \u4e2d\u63a5\u6536\n    // const {p1, p2} = this.props.match.params\n\n// 2. query/search\n    // \u53d1\u9001 - \u4e0d\u540c\u53c2\u6570\u95f4\u4f7f\u7528 &amp; \u8fde\u63a5\n    &lt;Link to={`url/?p1=${this.state.p1}&amp;p2=${this.state.p2}`}/&gt;\n    // \u63a5\u6536\uff08\u4e0d\u9700\u8981\u58f0\u660e\uff09\n    // pre\uff1a\u5148\u5b89\u88c5\uff0c\u7136\u540e import qs from 'querystring'\n        // 1. \u521d\u59cb\u7684 search \u662f\u5b57\u7b26\u4e32\uff0c\u4f7f\u7528 qs.parse() \u8f6c Obj\n        // const {search} = this.props.location\n        // const {p1, p2} = qs.parse(search.slice(1)) =&gt; \u5426\u5219\u5e26\uff1f\n\n// 3. state \u53c2\u6570\uff08\u4e0d\u662f\u7ec4\u4ef6\u72b6\u6001\uff09=&gt; \u5237\u65b0\u540e\u4fdd\u6301\n    // \u53d1\u9001 - \u5fc5\u987b\u628a to \u914d\u7f6e\u4e3a\u5bf9\u8c61\n    &lt;Link to={{\n        pathname: '/url',\n        state: {\n            s1: 'val1',\n            s2: 'val2'\n        }\n    }}/&gt;\n    // \u5728 this.props.location.state \u4e2d\u63a5\u6536\uff08\u4e0d\u9700\u8981\u58f0\u660e\uff09\n    // \u4f7f\u7528\u7a7a\u5bf9\u8c61\u9002\u914d\u6e05\u7a7a\u7f13\u5b58\u7684\u60c5\u51b5\n    // const {s1,s2} = this.props.location.state || {}\n</code></pre>"},{"location":"chaps/Router/#_6","title":"\u9488\u5bf9\u5386\u53f2\u8bb0\u5f55\u7684\u64cd\u4f5c","text":"<ul> <li>push\uff08\u9ed8\u8ba4\uff09</li> <li>replace\uff08\u5728\u6807\u7b7e\u4e2d\u914d\u7f6e\uff09<code>&lt;Link replace to=\"url\"/&gt;</code></li> </ul>"},{"location":"chaps/Router/#12","title":"1.2 \u7f16\u7a0b\u5f0f\u8def\u7531","text":"<p>\u8def\u7531\u7ec4\u4ef6\u663e\u793a\u8fd8\u662f\u7528 <code>&lt;Route&gt;</code> \u914d\u7f6e</p> <pre><code>// replace \u6a21\u5f0f\nreplaceShow = (id, title) =&gt; {\n    // query \u53c2\u6570 - \u8981\u7528 qs \u89e3\u6790\n    this.props.history.replace(`url/?id=${id}&amp;t=${title}`)\n    // params \u53c2\u6570 - Route \u8981\u58f0\u660e\u63a5\u6536\n    this.props.history.replace(`url/${id}/${title}`)\n    // state \u53c2\u6570 - \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f state \u5bf9\u8c61\n    this.props.history('url', {\n        id: 1,\n        title: 'tt'\n    })\n}\n// \u7ed1 click \u7684\u65f6\u5019\u4f7f\u7528\u533f\u540d\u51fd\u6570\u8c03\u7528\n&lt;button onClick={()=&gt;{this.replaceShow(id,title)}}/&gt;\n\n// push \u6a21\u5f0f\nthis.props.history.push('url')\n\n// \u64cd\u4f5c\u6d4f\u89c8\u5386\u53f2\u6808\n    // \u524d\u8fdb forward\n    this.props.history.goFoward()\n    // \u540e\u9000 back\n    this.props.history.goBack()\n    // go - \u770b\u53c2\u6570\uff1a+int \u524d\u8fdb, -int \u540e\u9000\n    this.props.history.go(-3)\n</code></pre>"},{"location":"chaps/Router/#withrouter","title":"withRouter","text":"<p>\u53ea\u6709\u300c\u8def\u7531\u7ec4\u4ef6\u300d\u6301\u6709 <code>this.props.history</code>\uff0c\u90a3\u4e48\u4e00\u822c\u7ec4\u4ef6\u5462\uff1f \u901a\u8fc7 <code>withRouter</code> \u8fdb\u884c\u52a0\u5de5\uff0c\u4f7f\u5176\u5177\u5907\u8def\u7531\u7ec4\u4ef6\u6240\u6301\u6709\u7684 API</p> <pre><code>import {withRouter} from'react-router-dom'\nclass Header extends Component {\n    // \u8fd9\u65f6\u5019\u5c31\u80fd\u7528 props.history \u4e0b\u7684 API \u5566\n}\n// \u6ce8\u610f\u66b4\u9732\u5185\u5bb9\u7684\u5305\u88f9\nexport default withRouter(Header)\n</code></pre>"},{"location":"chaps/Router/#browser-vs-hash","title":"Browser vs Hash","text":"<ul> <li>\u5e95\u5c42\u539f\u7406\u4e0d\u540c<ul> <li>BrowserRouter \u57fa\u4e8e H5 \u7684 history API \u5b9e\u73b0\uff0c\u4e0d\u517c\u5bb9 IE9 \u4ee5\u4e0b\u7248\u672c</li> <li>HashRouter \u4f7f\u7528 URL \u7684 hash \u503c</li> </ul> </li> <li>path \u8868\u73b0\u5f62\u5f0f\u4e0d\u540c<ul> <li>BrowserRouter \u8def\u5f84\u4e2d\u4e0d\u5b58\u5728 <code>#</code></li> <li>HashRouter \u8def\u5f84\u5305\u542b <code>#</code>\uff08\u540e\u9762\u7684\u53c2\u6570\u4e0d\u4f1a\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff09</li> </ul> </li> <li>\u5237\u65b0\u5bf9 State \u53c2\u6570\u7684\u5f71\u54cd<ul> <li>\u5bf9 BrowserRouter \u65e0\u5f71\u54cd\uff0cstate \u53c2\u6570\u5b58\u50a8\u5728 history \u5bf9\u8c61\u4e2d</li> <li>\u4f1a\u5bfc\u81f4 HashRouter \u7684 state \u53c2\u6570\u4e22\u5931</li> </ul> </li> <li>HashRouter \u53ef\u4ee5\u89e3\u51b3\u6837\u5f0f\u4e22\u5931\u7684\u95ee\u9898\u634f</li> </ul>"},{"location":"chaps/Router/#2-react-router-6","title":"2 React-Router 6","text":""},{"location":"chaps/Router/#_7","title":"\u4e00\u7ea7\u8def\u7531","text":"<pre><code>// \u57fa\u672c\u89e3\u6784\uff1a\u4f7f\u7528 xxxRouter \u5305\u88f9\u6574\u4e2a\u8def\u7531\u7a7a\u95f4\n&lt;BrowserRouter&gt;\n    // \u4f7f\u7528 Link/NavLink \u6307\u5b9a\u8df3\u8f6c tag\n    &lt;NavLink to=\"/home\"&gt;Home&lt;/NavLink&gt;\n    &lt;NavLink to=\"/about\"&gt;About&lt;/NavLink&gt;\n    // \u4f7f\u7528 Routes \u5305\u88f9 route-view\uff0c\u8fbe\u5230 match FIRST\n    &lt;Routes&gt;\n        // \u914d\u7f6e\u7ec4\u4ef6\u7684\u5f62\u5f0f\u53d8\u4e3a element={&lt;Tag/&gt;}\n        &lt;Route element={&lt;Home/&gt;}path=\"/home\"/&gt;\n        &lt;Route element={&lt;About/&gt;}path=\"/about\"/&gt;\n        // \u65b0\u7684\u91cd\u5b9a\u5411\u89c4\u5219\uff0c\u5c06 / \u5b9a\u5411\u81f3 /home\n        // Navigate\u53ea\u8981\u300c\u6e32\u67d3\u300d\u5c31\u7b49\u4ef7\u4e8e\u9875\u9762\u8df3\u8f6c\uff0c\u9ed8\u8ba4\u4e3a push \u6a21\u5f0f\n        &lt;Route path=\"/\" element={&lt;Navigate to=\"/home\"/&gt;}/&gt;\n    &lt;/Routes&gt;\n&lt;/BrowserRouter&gt;\n</code></pre> <ul> <li>\u6211\u4eec\u53ef\u4ee5\u914d\u7f6e <code>&lt;Route caseSensitive&gt;</code> \u4f7f\u5f97\u8def\u5f84\u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199</li> <li><code>&lt;NavLink&gt;</code> \u7684\u52a8\u6001\u7c7b\u540d\u5efa\u8bae\u4f7f\u7528\u4ee5\u4e0b\u5f62\u5f0f\u5bf9\u5176\u8fdb\u884c\u914d\u7f6e\uff1a     \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u52a0 <code>.active</code> \u4e00\u6837\u7684\u8bdd\u5c31\u4e0d\u7528\u6539\u4e86     <code>jsx     &lt;NavLink        className={({isActive})=&gt;{return isActive ? 'base active': 'base'}}       to=\"url\" children=\"URLNAME\"     /&gt;     // \u53ef\u4ee5\u5c01\u88c5\u51fd\u6570\u8fdb\u884c\u5207\u6362     function clacClassName(isActive) {         return isActive ? 'base active': 'base'     }     &lt;NavLink       className={({isActive})=&gt;this.calcClassName(isActive)}     /&gt;</code></li> </ul>"},{"location":"chaps/Router/#_8","title":"\u8def\u7531\u8868","text":"<p><code>useRoute</code> \u5c06\u751f\u6210 <code>&lt;Routes&gt;</code> \u5305\u88f9\u7684\u5168\u90e8\u5185\u5bb9</p> <pre><code>import {useRoutes} from 'react-router-dom'\n// \u9010\u6e10 Vue \u5316\nconst element = useRoutes([\n    {\n        path: '/home',\n        element: &lt;Home/&gt;\n    },\n    {\n        path: '/about',\n        element: &lt;About/&gt;\n    },\n    {\n        path: '/',\n        element: &lt;Navigate to=\"/home\"/&gt;\n    }\n])\n// \u53ea\u8981\u5728\u539f\u6765\u7684\u5730\u65b9\u4f7f\u7528 {element} \u5c31\u884c\n</code></pre> <p>\u300c\u5751\u300d   \u4e00\u3001 <code>useRoutes() may be used only in the context of a &lt;Router&gt; component.</code>            \u6700\u540e\u5728 <code>index.js</code> \u91cc\u7528 <code>&lt;BrowserRouter&gt;</code> \u628a App \u5305\u8d77\u6765\u4e86   \u4e8c\u3001<code>useRoutes()</code> \u4f3c\u4e4e\u53ea\u80fd\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u91cc\u4f7f\u7528</p>"},{"location":"chaps/Router/#_9","title":"\u5c0f\u5c0f\u7684\u4f18\u5316","text":"<ul> <li>\u5c06\u8def\u7531\u8868\u72ec\u7acb     <code>js     // @ router.js     // import components &amp; Navigate     const router = [         { path:'path', element:&lt;Home/&gt;},         { path:'/'   , element:&lt;Navigate to=\"/home\"/&gt;}     ];     export default router;</code></li> <li>\u7b80\u5316 rfc     <code>jsx     import router;     export default function App {         const element = userRoutes(router)         return (             &lt;Link to=\"/home\" children=\"Home\"/&gt;&lt;br/&gt;             &lt;Link to=\"/about\" children=\"About\"/&gt;             {elements}         )     }</code></li> </ul>"},{"location":"chaps/Router/#_10","title":"\u5d4c\u5957\u8def\u7531","text":"<p>\u9010\u6e10 Vue \u5316\uff0c\u6211\u4eec\u7ee7\u7eed\u6539\u9020\u8def\u7531\u8868 \u9996\u5c42\u8def\u7531\u4f7f\u7528 <code>{element}</code> \u8fdb\u884c\u6302\u5728\uff0c\u4e8c\u7ea7\u5f00\u59cb\u4f7f\u7528 <code>&lt;Outlet&gt;</code> \u5360\u4f4d</p> <pre><code>// @ router.js\nconst router = [\n    {\n        path: '/home',\n        element: &lt;Home/&gt;,\n        children: [\n            {\n                path: 'news', // \u524d\u9762\u4e0d\u7528\u52a0\u659c\u6760\n                element: &lt;News/&gt;\n            },\n            {\n                path: 'message',\n                element: &lt;Message/&gt;\n            }\n        ]\n    }\n]\n</code></pre> <pre><code>// \u4e0d\u7528\u5e26\u7236\u7ea7\u8def\u7531&amp;\u659c\u6760\uff0c\u7528 /news \u5c31\u4f1a\u88ab\u5f53\u6210\u4e00\u7ea7\u8def\u7531\n&lt;NavLink to=\"news\"&gt;News&lt;/NavLink&gt;\n// \u4e3a\u4e86\u6307\u5b9a\u8def\u7531\u7ec4\u4ef6\u5448\u73b0\u7684\u4f4d\u7f6e\uff0c\u5f15\u5165 Outlet\uff08\u5c31\u662f router-view \u5566\uff09\n&lt;Outlet/&gt;\n// \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u7ed9\u5339\u914d\u5230\u7684\u300c\u7236\u7ea7\u300d\u8def\u7531\u4e5f\u52a0\u4e0a active\n// \u5982\u679c\u4e0d\u5e0c\u671b\u7236\u7ea7\u9ad8\u4eae\uff0c\u5219\u914d\u7f6e &lt;NavLink end/&gt;\n</code></pre>"},{"location":"chaps/Router/#_11","title":"\u8def\u7531\u4f20\u53c2","text":""},{"location":"chaps/Router/#params","title":"params","text":"<pre><code>// \u53d1\u9001\n&lt;Link to=`news/${id}/${title}`&gt;{title}&lt;/Link&gt;\n// \u9700\u8981\u5728\u8def\u7531\u8868\u4e2d\u6ce8\u518c\n{\n    path: 'news/:id/:title',\n    element: &lt;News/&gt;\n}\nimport {useParams} from 'react-router-dom';\nconst {id, title} = useParams(); // \u7136\u540e\u5c31\u80fd\u7528\u54e9\n// \u6709\u4e00\u4e2a\u66f4\u9ebb\u70e6\u7684\u4e1c\u897f\nconst {id, title} = useMatch('/home/nesw/:id:/:title').params;\n</code></pre>"},{"location":"chaps/Router/#search","title":"search","text":"<pre><code>&lt;Link to=`news/?id=${id}&amp;t=${title}`&gt;{title}&lt;/Link&gt;\n// \u4e0d\u9700\u8981\u5360\u4f4d\u634f\nimport {useSearchParams} from 'react-router-dom';\nconst [search, setSearch] = userSearchParams();\n// \u6700\u540e\u7528 search.get('key') \u83b7\u53d6\u5bf9\u5e94\u53c2\u6570\n// \u4e5f\u53ef\u4ee5 setSearch('id=00&amp;title=haha') \u91cd\u7f6e\u53c2\u6570\n\n// \u66f4\u9ebb\u70e6\u7684\u4e1c\u897f\nconst {id, title} = useLocation().search;\n ```\n\n#### state\n```jsx\n&lt;Link to=\"news\" state={{\n    id: item.id,\n    title: item.title\n}}&gt;\n    {title}\n&lt;/Link&gt;\n// \u4e5f\u4e0d\u9700\u8981\u5360\u4f4d\u634f\nimport {useLocation} from 'react-router-dom';\nconst {state:{id, title}} = useLocation();\n</code></pre>"},{"location":"chaps/Router/#_12","title":"\u7f16\u7a0b\u5f0f\u8def\u7531","text":"<pre><code>import {useNavigate} from 'react-router-dom';\nconst navigate = useNavigate();\n// \u53bb\u5b50\u8def\u7531\u5c31\u4e0d\u7528\u52a0\u659c\u6760\u4e86\nfunction goShop() { navigate('/shop', {\n    replace: false,\n    // \u5176\u4ed6\u53c2\u6570\u53ea\u80fd\u5728\u8def\u5f84\u91cc\u62fc\u63a5\n    state: {\n        id: item.id,\n        title: item.title\n    }\n});} \n// \u524d\u8fdb\u540e\u9000\u5747\u901a\u8fc7 navigate(n) \u6765\u5b9e\u73b0\n</code></pre>"},{"location":"chaps/Router/#hooks","title":"Hooks","text":"<ul> <li>useInRouterContext \u5224\u65ad\u662f\u5426\u7ec4\u4ef6\u5904\u5728 <code>&lt;Router&gt;</code> \u7684\u4e0a\u4e0b\u6587\u4e2d     \u88ab\u5305\u88f9\u7684\u6240\u6709\u7ec4\u4ef6\uff08\u5305\u62ec\u540e\u4ee3\u7ec4\u4ef6\uff09\u5747\u8fd4\u56de <code>true</code>     App \u8981\u5728 <code>index.js</code> \u4e2d\u5305\u88f9\u624d\u5224\u5b9a\u6709\u6548\uff08\u5728\u7ec4\u4ef6 tag \u5916\u9762\uff09</li> <li>useNavigationType \u8fd4\u56de\u5f53\u524d\u5bfc\u822a\u7c7b\u578b     \u8fd4\u56de\u503c\u6709\uff1aPOP / PUSH / REPLACE\uff08POP = \u76f4\u63a5\u6253\u5f00\u4e86\u8be5\u7ec4\u4ef6 / \u5237\u65b0\u9875\u9762\uff09</li> <li>useOutlet<ul> <li>\u6ca1\u6709\u6302\u8f7d\u5f53\u524d\u7ec4\u4ef6\u4e2d\u5e94\u5f53\u6e32\u67d3\u7684\u5d4c\u5957\u8def\u7531\uff0c\u8fd4\u56de null</li> <li>\u53cd\u4e4b\uff0c\u8fd4\u56de\u5c55\u793a\u7684\u5d4c\u5957\u8def\u7531\u5bf9\u8c61</li> </ul> </li> <li>useResolvedPath \u7ed9\u5b9a URL\uff0c\u89e3\u6790 path\u3001search\u3001hash     \u8be5 URL \u4e0d\u4e00\u5b9a\u662f\u672c\u9879\u76ee\u4e2d\u7684</li> </ul>"},{"location":"chaps/Start/","title":"1 \u6162\u901f\u4e0a\u624b","text":"<p>\u4f7f\u7528 JS \u76f4\u63a5\u64cd\u4f5c DOM \u4f1a\u5bfc\u81f4\u5927\u91cf\u7684\u91cd\u7ed8\u91cd\u6392</p> <p>\u7279\u70b9\uff1a - \u7ec4\u4ef6\u5316\u6a21\u5f0f\u3001\u58f0\u660e\u5f0f\u7f16\u7801 - \u53ef\u4ee5\u5728 React Native \u4e2d\u53ef\u4ee5\u4f7f\u7528 React \u8bed\u6cd5\u8fdb\u884c\u79fb\u52a8\u7aef\u5f00\u53d1 - \u4f7f\u7528 \u865a\u62dfDOM + \u4f18\u79c0\u7684 diff \u7b97\u6cd5\uff0c\u5c3d\u91cf\u51cf\u5c11\u548c\u771f\u5b9eDOM\u7684\u4ea4\u4e92</p>"},{"location":"chaps/Start/#1-hello-world","title":"1 Hello World","text":"<p>React\u4e2d\u6587\u5b98\u7f51</p>"},{"location":"chaps/Start/#11","title":"1.1 \u4f7f\u7528\u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee","text":"<ul> <li>\u9700\u8981\u7684\u73af\u5883<ul> <li>NodeJS &amp; npm</li> <li>create-react-app\uff0c\u4f7f\u7528 <code>npm install -g create-react-app</code> \u53ef\u4ee5\u5168\u5c40\u5b89\u88c5</li> </ul> </li> <li>\u521b\u5efa\u9879\u76ee <code>create-react-app prj_name</code></li> <li>\u9879\u76ee\u542f\u52a8 <code>npm start</code>\uff0c\u9ed8\u8ba4\u7aef\u53e3\u53f7\u4e3a 3000</li> </ul>"},{"location":"chaps/Start/#_1","title":"\u9879\u76ee\u7ed3\u6784","text":"<pre><code>%PUBLIC_URL% - \u8868\u793a public \u6839\u76ee\u5f55\n- public \u9759\u6001\u8d44\u6e90\u6587\u4ef6\n    - favicon.icon\n    - index.html\n    - manifest.json \u5e94\u7528\u52a0\u58f3\u7684\u914d\u7f6e\u6587\u4ef6\uff08Web\u5957\u76ae\u539f\u751f\uff09\n    - robots.txt \u722c\u866b\u534f\u8bae\n- src\n    - App.css APP\u7ec4\u4ef6\u6837\u5f0f\uff08\u5728 App.js \u4e2d\u81ea\u884c\u5f15\u5165\uff09\n    - App.js  APP\u7ec4\u4ef6\u672c\u4f53\n    - APP.test.js APP\u7ec4\u4ef6\u6d4b\u8bd5\n    - index.css \u6837\u5f0f\n    - index.js \u5165\u53e3\u6587\u4ef6\n      \u8fd9\u91cc\u9762\u4f1a\u5f15\u5165 idx.css\uff0c\u5982\u679c\u8981\u5728 html \u4e2d\u52a0\u8f7d\u8981\u5220\u53bb\u91cd\u590d\u90e8\u5206\n    - logo.svg  logo\u56fe\n    - reportWebVitals.js \u6027\u80fd\u5206\u6790\u6587\u4ef6\uff08\u9700\u8981 web-vitals \u5e93\uff09\n</code></pre>"},{"location":"chaps/Start/#hello-world","title":"Hello World \u7ec4\u4ef6","text":"<ol> <li>\u7f16\u5199\u5165\u53e3\u6587\u4ef6</li> </ol> <pre><code>// \u5f15\u5165\u6838\u5fc3\u5e93 \u548c ReactDOM\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n// \u5f15\u5165\u6839\u7ec4\u4ef6\nimport App from './App.js'\n// \u6e32\u67d3\u5230\u9875\u9762\nReactDOM.render(&lt;App/&gt;, document.getElementById('root'))\n// \u5728 React18 \u4e2d\uff0crender \u88ab\u66f4\u6539\u4e3a\u4ee5\u4e0b\u5f62\u5f0f\nimport {createRoot} from 'react-dom/client'\nconst root = createRoot(document.getElementById('root'))\nroot.render(&lt;App/&gt;)\n</code></pre> <ol> <li>\u521b\u5efa\u6839\u7ec4\u4ef6 APP</li> </ol> <pre><code>import React from 'react'\nexport default class APP extends React.Component {\n    render {\n        return(\n        &lt;div&gt;\n            hello world!\n        &lt;/div&gt;)\n    }\n}\n</code></pre>"},{"location":"chaps/Start/#_2","title":"\u6837\u5f0f\u6a21\u5757\u5316","text":"<p>\u7528 less \u5199\u6ca1\u6709\u8fd9\u4e2a\u95ee\u9898\u634f</p> <ol> <li>\u6837\u5f0f\u8868\u66f4\u540d\u4e3a <code>comp.module.css</code> </li> <li>\u4f7f\u7528 <code>import comp_name from './comp.module.css'</code></li> <li>\u6e32\u67d3\u65f6\u8fd4\u56de tag <code>className={comp_name.name}</code></li> </ol>"},{"location":"chaps/Start/#12-cdn","title":"1.2 \u5355\u9875\u9762\u5e94\u7528\uff08CDN\u5f15\u5165\uff09","text":"<pre><code>&lt;body&gt;\n    &lt;div id=\"app\"&gt;&lt;/div&gt;\n\n    &lt;script crossorigin\n     src=\"https://unpkg.com/react@16/umd/react.development.js\"&gt;\n    &lt;/script&gt;\n    &lt;script crossorigin \n     src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"&gt;\n     &lt;/script&gt;\n    &lt;script\n     src=\"https://unpkg.com/babel-standalone@6/babel.min.js\"&gt;\n     &lt;/script&gt;\n\n    &lt;script type=\"text/babel\"&gt;\n        // \u5fc5\u987b\u6307\u660e\u5185\u5bb9\u4e3a babel\n        // 1. \u521b\u5efa\u865a\u62dfDOM\n        const VDOM = &lt;h1&gt;Hello, world!&lt;/h1&gt;\n        // 2. \u5c06\u865a\u62dfDOM\u6e32\u67d3\u5230\u6307\u5b9a\u5bb9\u5668\u4e2d\n        ReactDOM.render(\n            VDOM,\n            document.getElementById('app')\n        );\n    &lt;/script&gt;\n&lt;/body&gt;\n</code></pre>"},{"location":"chaps/Start/#2-dom","title":"2 \u865a\u62df DOM","text":""},{"location":"chaps/Start/#21","title":"2.1 \u4e24\u79cd\u521b\u5efa\u65b9\u5f0f","text":"<ol> <li>\u4f7f\u7528 JSX \u521b\u5efa\uff08\u5c31\u548c\u4e0a\u9762\u4e00\u6837\uff09</li> </ol> <pre><code>    // \u8bb0\u5f97\u4e00\u5b9a\u4e0d\u8981\u52a0\u5f15\u53f7\u634f\n    VDOM = (\n        &lt;h1 id=\"title\"&gt;\n            &lt;span&gt;Hello, world!&lt;/span&gt;\n        &lt;h1&gt;\n    )\n</code></pre> <ol> <li>\u4f7f\u7528 \u539f\u751fJS \u521b\u5efa</li> </ol> <pre><code>// \u4e0d\u7528\u5f15\u5165 babel \u4e86\u634f\n// React.createElement(\u6807\u7b7e\u540d\uff0c\u5c5e\u6027\uff0c\u6807\u7b7e\u4f53\u5185\u5bb9)\nconst VDOM = React.createElement('h1',{id:'title'}, 'hello world') \nReactDOM.render(\n    VDOM,\n    document.getElementById('app')\n);\n// JSX \u4e0b\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u7684\u5957\u5a03 &lt;h1&gt;&lt;span&gt;&lt;/&gt;&lt;/&gt;, JS \u4e0b\u8981\u5957\u51fd\u6570\nconst VDOM = \n    React.createElement('h1',{id:'title'}, \n        React.createElement('span',{},'Hello World')\n    ) \n</code></pre>"},{"location":"chaps/Start/#22-vs-dom","title":"2.2 vs \u771f\u5b9eDOM","text":"<ul> <li>\u5176\u5b9e\u751f\u6210\u7684 VDOM \u53ea\u662f\u4e00\u4e2a\u666e\u901a\u7684 Object \u5bf9\u8c61\uff0c\u6bd4\u8f83\u8f7b\u91cf</li> <li>\u6700\u7ec8\u4f1a\u88ab\u8f6c\u53d8\u4e3a\u771f\u5b9eDOM\uff0c\u5e76\u6e32\u67d3\u5230\u9875\u9762\u4e0a</li> </ul>"},{"location":"chaps/Start/#3-jsx","title":"3 JSX","text":"<p>\u662f JS \u7684\u6269\u5c55\u8bed\u6cd5\uff0c\u7c7b\u4f3c\u4e8e XML</p>"},{"location":"chaps/Start/#_3","title":"\u57fa\u7840\u8bed\u6cd5","text":"<ol> <li>\u5b9a\u4e49\u865a\u62dfDOM\u65f6\uff0c\u4e0d\u8981\u5199\u5f15\u53f7</li> <li>\u53ef\u4ee5\u4f7f\u7528<code>{}</code>\u5305\u88f9\u6f5c\u5165\u7684 JS \u8868\u8fbe\u5f0f\uff0c\u5982 <code>&lt;h2 id={myId.toLowerCase()}&gt;</code></li> <li>\u6307\u5b9a\u6837\u5f0f\u5f97\u7528 <code>className=\"sth\"</code> -&gt; \u7528 <code>class</code> \u4f1a\u7206\u70b8\uff08\u548cES6\u51b2\u7a81\uff09</li> <li>\u5185\u8054\u6837\u5f0f\u9700\u8981\u4f7f\u7528\u4ee5\u4e0b\u683c\u5f0f     <code>jsx     const VDOM = (         // \u591a\u5355\u8bcd\u5c5e\u6027\u8981\u7528\u5c0f\u9a7c\u5cf0         &lt;span style={{color: \"white\", fontSize:'20px'}}&gt;             hello, world!         &lt;/span&gt;     )</code></li> <li>\u53ea\u80fd\u6709\u4e00\u4e2a\u6839\u6807\u7b7e\uff08\u62ff\u4e2a <code>div</code> \u5305\u4e00\u5c42\uff09</li> <li>\u6807\u7b7e\u5fc5\u987b\u95ed\u5408\uff08\u81ea\u95ed\u5408\u4e5f\u53ef\u4ee5\uff09</li> <li>\u5c0f\u5199\u5f00\u5934\u7684\u6807\u7b7e\u88ab\u8ba4\u4e3a\u662f html \u5143\u7d20\uff0c\u65e0\u540c\u540d\u5143\u7d20\u5219\u62a5\u9519\uff1b      \u5927\u5199\u5f00\u5934\u88ab\u8ba4\u4e3a\u662f React Component\uff0c\u7ec4\u4ef6\u6ca1\u5b9a\u4e49\u6574\u4e2a\u5bc4\u6389</li> </ol>"},{"location":"chaps/Start/#_4","title":"\u5217\u8868\u6e32\u67d3","text":"<pre><code>const data = ['item1', 'item2', 'item2']\nconst VDOM = (\n    &lt;div&gt;\n        &lt;ul&gt;\n        {\n            data.map( (item, idx) =&gt; {\n                return &lt;li key={idx}&gt;{item}&lt;/li&gt; // \u5355\u5c42\u62ec\u53f7\uff0c\u4e0d\u662f\u63d2\u503c\u8bed\u6cd5\u634f\n            })\n        }\n        &lt;/ul&gt;\n    &lt;/div&gt;\n)\n</code></pre>"},{"location":"chaps/Start/#4-dom-diff","title":"4 \u865a\u62df DOM \u4e0e Diff","text":"<ol> <li>React / Vue \u4e2d\u7684 key \u6709\u4ec0\u4e48\u4f5c\u7528\uff1f\uff08key \u7684\u5185\u90e8\u539f\u7406\u662f\u4ec0\u4e48\uff09<ul> <li>Key \u7528\u4e8e\u6807\u8bc6 \u865a\u62dfDOM \u5bf9\u8c61\uff0c\u5728 Update \u65f6\u5177\u6709\u91cd\u8981\u4f5c\u7528</li> <li>\u5f53 state \u4e2d\u7684\u6570\u636e\u53d8\u5316\u65f6\uff0cReact \u4f1a\u6839\u636e\u65b0\u7684\u6570\u636e\u751f\u6210\u300c\u65b0\u7684\u865a\u62dfDOM\u300d\uff0c\u968f\u540e\u4e0e\u300c\u65e7\u865a\u62dfDOM\u300d\u8fdb\u884c diff<ul> <li>\u5728\u300c\u65e7\u865a\u62dfDOM\u300d\u4e2d\u627e\u5230\u5177\u6709\u76f8\u540c key \u503c\u7684\u7ed3\u6784<ul> <li>\u5185\u5bb9\u4e0d\u53d8\uff1a\u590d\u7528\u771f\u5b9eDOM</li> <li>\u5185\u5bb9\u6539\u53d8\uff1a\u751f\u6210\u65b0\u7684\u771f\u5b9eDOM\uff0c\u5e76\u8fdb\u884c\u66ff\u6362</li> </ul> </li> <li>\u672a\u627e\u5230\u6709\u76f8\u540c key \u7684\u7ed3\u6784     \u6839\u636e\u6570\u636e\u751f\u6210\u65b0\u7684\u771f\u5b9eDOM\uff0c\u5e76\u6e32\u67d3\u5230\u9875\u9762</li> </ul> </li> </ul> </li> <li>\u4e3a\u4ec0\u4e48\u904d\u5386\u5217\u8868\u65f6\uff0ckey \u6700\u597d\u4e0d\u7528 index\uff1f<ul> <li>\u82e5\u5bf9\u6570\u636e\u8fdb\u884c\uff1a\u9006\u5e8f\u6dfb\u52a0\u3001\u5220\u9664\u7b49\u7834\u574f\u987a\u5e8f\u7684\u64cd\u4f5c\uff08\u4e00\u8fde\u4e32\u524d\u540e\u79fb\u4f4d\uff09     \u53ef\u80fd\u4ea7\u751f\u6ca1\u6709\u5fc5\u8981\u7684\u771f\u5b9eDOM\u66f4\u65b0\uff08$O(n)$)\uff0c\u5bfc\u81f4\u4f4e\u6548\u7387</li> <li>\u82e5\u7ed3\u6784\u4e2d\u542b\u6709 input\uff1a\u53ef\u80fd\u4ea7\u751f\u9519\u8bef\u7684 DOM \u66f4\u65b0</li> <li>\u5982\u679c\u6e32\u67d3\u7684\u5217\u8868\u4ec5\u7528\u4e8e\u5c55\u793a\uff0c\u4f7f\u7528key\u65f6\u6ca1\u6709\u95ee\u9898\u7684     \u6700\u597d\u9009\u62e9\u8bb0\u5f55\u7684\u4e3b\u952e\u4f5c\u4e3a key\uff08\u4fdd\u8bc1 UNIQUE\uff09</li> </ul> </li> </ol>"},{"location":"chaps/Start/#5","title":"5 \u9879\u76ee\u90e8\u7f72","text":"<ol> <li>\u6253\u5305\u634f      <code>npm run build</code> \u751f\u6210 <code>build</code></li> <li>\u4f7f\u7528 Serve <code>npm i serve -g</code>\uff08\u5168\u5c40\u5b89\u88c5\uff09<ol> <li>\u5728\u4e3b\u76ee\u5f55\u4e0b\u6267\u884c <code>serve</code> \u547d\u4ee4\uff08\u9ed8\u8ba4 port = 5000\uff09      \u6216\u8005\u7528 <code>serve \u76f8\u5bf9\u8def\u5f84</code></li> <li>\u5982\u679c\u6211\u4eec\u628a\u751f\u6210\u7684\u6587\u4ef6\u4e22\u5230 cur_path \u4e0b\u5c31\u662f <code>serve build</code> \u5566</li> </ol> </li> </ol>"},{"location":"chaps/Start/#6","title":"6 \u5176\u4ed6","text":""},{"location":"chaps/Start/#61-setstate","title":"6.1 setState \u7684\u4e24\u79cd\u5199\u6cd5","text":"<ol> <li>\u5bf9\u8c61\u5f0f <code>setState(neoState, [callback])</code>      \u56de\u8c03\u51fd\u6570 <code>callback</code> \u5c06\u5728 <code>render()</code> \u6267\u884c\u5b8c\u6bd5\u540e\u8c03\u7528\uff08\u7c7b\u4f3c\u4e8e <code>nextTick</code>\uff09</li> <li> <p>\u51fd\u6570\u5f0f <code>setState(updater, [callback])</code> <code>updater</code> \u53ef\u4ee5\u63a5\u6536 state &amp; props     <code>js     this.setState(         (state, props) =&gt; { // \u5176\u5b9e\u5dee\u4e0d\u591a\uff0c\u5bf9\u8c61\u5f0f\u9700\u8981 this.state.name             return {count: state.count+1}         },         ()=&gt;{} // callback     )</code></p> </li> <li> <p>\u5bf9\u8c61\u5f0f\u7684 setState \u5b9e\u9645\u4e0a\u662f\u51fd\u6570\u5f0f\u7684\u7b80\u5199\u65b9\u5f0f</p> </li> <li>newState \u4f9d\u8d56\u539f\u72b6\u6001\u65f6 \u2014\u2014 \u51fd\u6570\u5f0f</li> <li>newState \u4e0d\u4f9d\u8d56\u539f\u72b6\u6001\u65f6 \u2014\u2014 \u5bf9\u8c61\u5f0f</li> </ol>"},{"location":"chaps/Start/#62-lazyload","title":"6.2 lazyLoad","text":"<p>\u9488\u5bf9\u8def\u7531\u7ec4\u4ef6</p> <pre><code>// \u52a8\u6001\u52a0\u8f7d\u8def\u7531\u7ec4\u4ef6\uff08\u8def\u7531\u7ec4\u4ef6\u4ee3\u7801\u4f1a\u88ab\u5206\u5f00\u6253\u5305\uff09\nconst Login = lazy(() =&gt; import('@/pages/Login'));\n// \u4f7f\u7528 &lt;Suspense&gt; \u6307\u5b9a\u5728\u52a0\u8f7d\u5b8c\u6210\u524d\u7684 Loading \u754c\u9762\nimport {Suspense} from 'react'; // \u5305\u88f9\u6240\u6709\u6ce8\u518c\u8def\u7531&lt;Route&gt;\n&lt;Suspense fallback={&lt;h1&gt;Loading&lt;/h1&gt;}&gt;\n    &lt;Switch&gt;\n        &lt;Router path=\"...\" component={Login}/&gt;\n        &lt;Redirect to=\"/home\"/&gt;\n    &lt;/Switch&gt;\n&lt;/Suspense&gt;\n</code></pre> <p>\u5176\u5b9e suspense \u663e\u793a\u7684\u5185\u5bb9\u4e5f\u53ef\u4ee5\u662f\u7ec4\u4ef6\uff08\u4f46\u662f\u4e0d\u80fd\u518d lazy \u4e86\uff09</p> <pre><code>import Loading from './loading';\n&lt;Suspense fallback={&lt;Loading/&gt;}/&gt;\n</code></pre>"},{"location":"chaps/Start/#63-hook","title":"6.3 Hook","text":"<p>\u4f7f\u5f97\u51fd\u6570\u5f0f\u7ec4\u4ef6\u53ef\u4ee5\u4f7f\u7528 state \u53ca \u5176\u4ed6React\u7279\u6027</p>"},{"location":"chaps/Start/#usestate","title":"useState","text":"<pre><code>// \u7531\u4e8e rfc \u6ca1\u6709 this\uff0c\u7ed1\u5b9a onClick={funcName} \u5373\u53ef\n// \u5b9a\u4e49\u56de\u8c03\u4f7f\u7528 function funcName(params){} \u5373\u53ef\nexport default function Demo {\n    // \u5206\u522b\u662f [cur_val, set_val_method]\n    const [count, setCount] = React.useState(initVal)\n    // \u53ef\u4ee5\u4f7f\u7528 {count} \u8bfb\u53d6\uff0c\u4f7f\u7528 setCount(newVal/count+1) \u91cd\u7f6e\n    // setCount( val =&gt; new_val) new_val \u53ef\u4ee5\u57fa\u4e8e\u65e7\u503c\u8fed\u4ee3\n}\n</code></pre>"},{"location":"chaps/Start/#useeffect","title":"useEffect","text":"<p>\u652f\u6301\u4f7f\u7528 LifeCycle</p> <pre><code>export default function Demo {\n    // \u4e0d\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u53c2\u6570\u65f6 = DidMount + DidUpdate\uff08\u68c0\u6d4b\u6240\u6709\u6570\u636e\uff09\n    // \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a[] = DidMount \uff08\u4e0d\u68c0\u6d4b\u4efb\u4f55\u6570\u636e\uff09\n    // \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a[count] = DidMount + UpdateCount\n    // \u4e5f\u53ef\u4ee5\u7528,\u5206\u9694\u591a\u4e2a\u68c0\u6d4b\u5bf9\u8c61\n    React.useEffect(()=&gt;{\n        let timer = setInterval(()=&gt;{\n            setCount(count =&gt; count+1)\n        }, 1000)\n        return () =&gt; { // \u8fd4\u56de\u7684\u51fd\u6570\u76f8\u5f53\u4e8e WillUnmount\n            clearInterval(timer)\n        }\n    },[]) // \u6b64\u65f6 = DidMount\n}\n</code></pre>"},{"location":"chaps/Start/#useref","title":"useRef","text":"<pre><code>export default function Demo() {\n    const myRef = React.useRef()\n    render() {\n        return (\n            &lt;input ref={myRef}/&gt;\n        )\n    }\n    // \u53ef\u4ee5\u7528 myRef.current.value \u62ff\u5230\u5f53\u524d\u7684\u8f93\u5165\u503c\n}\n</code></pre>"},{"location":"chaps/Start/#64-fragment","title":"6.4 Fragment","text":"<p>\u5145\u5f53 render \u7684\u300c\u865a\u62df\u300d\u6839\u6807\u7b7e\uff0c\u7c7b\u4f3c\u4e8e Vue \u4e2d\u7684 <code>&lt;template&gt;</code></p> <ul> <li>\u53ef\u4ee5\u6307\u5b9a key <code>&lt;Fragement key={1}&gt;</code></li> <li>\u5176\u5b9e\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7a7a\u6807\u7b7e<code>&lt;&gt;</code>\uff0c\u4f46\u4e0d\u80fd\u6307\u5b9a key</li> </ul>"},{"location":"chaps/UI/","title":"6 UI\u7ec4\u4ef6\u5e93","text":"<p>\u6b64\u5904\u4ee5 AntD \u4e3a\u4f8b\u8fdb\u884c\u5b9e\u73b0\uff0c\u56fd\u5916\u7528\u7684\u6bd4\u8f83\u591a\u7684\u662f Material UI</p>"},{"location":"chaps/UI/#_1","title":"\u57fa\u672c\u4f7f\u7528","text":"<ol> <li>\u5b89\u88c5 <code>npm i antd --save</code></li> <li>\u7b80\u5355\u4f7f\u7528   <code>jsx     import 'antd/dist/reset.css' // \u5f15\u5165\u6837\u5f0f     import { Button } from 'antd' // \u5f15\u5165\u9700\u8981\u4f7f\u7528\u7684\u7ec4\u4ef6     &lt;Button type=\"primary\"&gt;\u6b63\u5e38\u7528\u5c31\u884c&lt;/Button&gt;</code></li> <li>\u4f7f\u7528\u56fe\u6807\u9700\u8981\u5b89\u88c5\u5b50\u5e93 <code>npm i @ant-design/icons --save</code> <code>jsx     import { StarTwoTone } from '@ant-design/icons';  // \u5f15\u5165\u9700\u8981\u7684\u56fe\u6807     &lt;StarTwoTone twoToneColor=\"#eb2f96\" /&gt;</code></li> </ol>"},{"location":"chaps/UI/#_2","title":"\u6837\u5f0f\u6309\u9700\u5f15\u5165","text":"<ol> <li>\u5b89\u88c5\u4f9d\u8d56\uff1a      <code>yarn add react-app-rewired customize-cra babel-plugin-import less less-loader</code></li> <li>\u4fee\u6539 <code>package.json</code> <code>json     ....         \"scripts\": {             \"start\": \"react-app-rewired start\",             \"build\": \"react-app-rewired build\",             \"test\": \"react-app-rewired test\",             \"eject\": \"react-scripts eject\"         },     ....</code></li> <li>\u5728\u6839\u76ee\u5f55\u4e0b\u521b\u5efa <code>config-overrides.js</code> <code>js     //\u914d\u7f6e\u5177\u4f53\u7684\u4fee\u6539\u89c4\u5219     const { override, fixBabelImports,addLessLoader} = require('customize-cra');     module.exports = override(         fixBabelImports('import', {             libraryName: 'antd',             libraryDirectory: 'es',             style: true,         }),         addLessLoader({             lessOptions:{                 javascriptEnabled: true,                 modifyVars: { '@primary-color': 'green' },             }         }),     );</code></li> <li>\u4e0d\u7528 <code>import 'antd/dist/reset.css'</code> \u54e9</li> </ol>"},{"location":"chaps/UI/#_3","title":"\u81ea\u5b9a\u4e49\u4e3b\u9898","text":"<p>\u5177\u4f53 \u6587\u6863 \u89c1\u94fe\u63a5 \u56e0\u4e3a antd5 \u5f03\u7528\u4e86 less\uff0c\u91c7\u7528\u4e86 CSS-in-JS \u6240\u4ee5\u539f\u6765\u7684\u4e1c\u897f\u4e0d\u80fd\u7528\u54e9</p>"},{"location":"chaps/UI/#_4","title":"\u5728\u5355\u4e2a\u7ec4\u4ef6\u4e2d\u751f\u6548","text":"<pre><code>import { ConfigProvider} from 'antd' // \u8ffd\u52a0\u5f15\u5165 config \u914d\u7f6e\u5668\nexport default class App extends Component {\n    render() {\n        return (\n        // \u5728 config \u7684 theme \u4e2d\u5bf9\u4e3b\u9898\u8fdb\u884c\u81ea\u5b9a\u4e49\n        // \u53ea\u5bf9\u5939\u5728 config \u4e4b\u95f4\u7684 tag \u751f\u6548\n            &lt;ConfigProvider\n            theme={{\n                components: {\n                    Button: {\n                        colorPrimary: '#00b96b',\n                    },\n                },\n\n            }}&gt;             \n                &lt;Button type=\"primary\" children=\"\u4e00\u4e2a\u7eff\u8272\u6309\u94ae\"/&gt;\n            &lt;/ConfigProvider&gt;\n        )\n    }\n}\n</code></pre>"},{"location":"chaps/Web/","title":"4 \u7f51\u7edc\u8bf7\u6c42","text":""},{"location":"chaps/Web/#1-ajax","title":"1 Ajax","text":"<p>React \u5e94\u7528\u9700\u8981\u5f15\u5165\u7b2c\u4e09\u65b9 Ajax \u5e93 / \u81ea\u5df1\u5c01\u88c5 \u6b64\u5904\u4f7f\u7528 <code>axios</code> \u8fdb\u884c\u5b9e\u73b0</p>"},{"location":"chaps/Web/#_1","title":"\u5f15\u5165\u5e76\u4f7f\u7528","text":"<pre><code>import axios from 'axois'\n\naxois.get('URL').then({\n    res =&gt; {console.log(res.data)},\n    err =&gt; {console.log(err.message)}\n})\n</code></pre>"},{"location":"chaps/Web/#_2","title":"\u914d\u7f6e\u4ee3\u7406","text":"<ul> <li>\u5339\u914d\u89c4\u5219<ul> <li>\u672c\u5730\u670d\u52a1\u5668\u4ee5 <code>/public</code> \u4e3a\u6839\u8def\u5f84<ul> <li>\u672c\u8def\u5f84\u4e0b\u5b58\u5728 - \u8fd4\u56de\u672c\u5730\u8d44\u6e90</li> <li>\u672c\u8def\u5f84\u4e0b\u4e0d\u5b58\u5728 - \u5411 <code>proxy</code> \u914d\u7f6e\u7684\u8fdc\u7aef\u8bf7\u6c42</li> </ul> </li> </ul> </li> </ul>"},{"location":"chaps/Web/#_3","title":"\u5355\u4e2a\u4ee3\u7406","text":"<pre><code>// @ package.json\n{\n    ...,\n    // \u4e0d\u77e5\u9053\u4e3a\u5565\u7528localhost\u4f1a\u5bc4\uff0c\u7528 127.0.0.1 \u5c31\u6b63\u5e38\u4e86\n    \"proxy\": \"URL of Server\" \n    // \u4e4b\u540e\u7684\u8bf7\u6c42\u7ed9\u672c\u5730\u4ee3\u7406\u53d1\u5c31\u884c\u4e86\n}\n</code></pre>"},{"location":"chaps/Web/#_4","title":"\u591a\u4e2a\u4ee3\u7406","text":"<p>\u9996\u5148\u9700\u8981\u8fdb\u884c\u5b89\u88c5 <code>npm i http-proxy-middleware --save</code></p> <pre><code>// @ src/setupProxy.js\nconst { createProxyMiddleware } = require('http-proxy-middleware')\n\nmodule.exports = function (app) {\n    app.use(\n        createProxyMiddleware('/api', { // \u4ee5 api \u4e3a\u524d\u7f00\u7684\u8bf7\u6c42\u4f1a\u89e6\u53d1\u8be5\u4ee3\u7406\n            target: 'http://127.0.0.1:3030',\n            secure: false,\n            changeOrigin: true, // \u4fee\u6539 host \u4e0e\u76ee\u6807\u670d\u52a1\u5668\u540c\u6e90\n            pathRewrite: {\n                \"^/api\": \"\"\n            }\n        }\n    ))\n}\n</code></pre>"},{"location":"chaps/Web/#2-fetch","title":"2 Fetch","text":"<p>\u6587\u6863\u5730\u5740\uff0c\u53e6\u4e00\u4e2a\u56fd\u5185\u7684\u6587\u6863</p> <p><code>Fetch</code> \u662f window \u7684\u539f\u751f\u51fd\u6570\uff0c\u4e0d\u57fa\u4e8e xhr \u53d1\u9001 Ajax \u8bf7\u6c42 =&gt; \u4f46\u662f\u8001\u7248\u672c\u7684\u6d4f\u89c8\u5668\u53ef\u80fd\u4e0d\u652f\u6301\u634f</p> <pre><code>// GET \u8bf7\u6c42\nfetch('URL').then(\n    res =&gt; {\n        // \u7b2c\u4e00\u6b65\uff1a\u300c\u8054\u7cfb\u670d\u52a1\u5668\u300d\u662f\u5426\u6210\u529f\uff08\u8fd4\u56de404\u4e5f\u662f\u6210\u529f\uff09\n        // =&gt; \u6570\u636e\u5728 res.josn() \u91cc\uff08\u662f\u4e00\u4e2a Promise \u5bf9\u8c61\uff09\n        return res.json()\n    },\n    /*err =&gt; {\n        // \u65ad\u7f51\u624d\u4f1a\u5230\u8fd9\u91cc\n        return new Promise(()=&gt;{}) // \u4e0d\u7136\u8fd4\u56de undefined \u8fd8\u4f1a\u5230\u4e0b\u9762\u7684 res\n    }*/\n).then(\n    res =&gt; {\n        // res \u672c\u8eab\u5c31\u662f data \u5bf9\u8c61\n    },\n    /*err =&gt; {\n        // err \u672c\u8eab\u5c31\u662f errMsg\n    }*/\n).catch(\n    err =&gt; {\n        console.log(err) // \u515c\u5e95\u7684\u9519\u8bef\u5904\u7406\u51fd\u6570\n    }\n)\n// \u4f18\u5316\u7684\u7248\u672c\nsearch = async()=&gt;{\n    try {\n        const res = await fetch('URL')\n        const data = await res.json()\n        console.log(data) // \u8fd4\u56de\u7684\u6570\u636e\u5728 data \u91cc\uff08\u662f\u4e2aObj\uff09\n    } catch(err) {\n        console.log(err)\n    }\n}\n</code></pre>"}]}